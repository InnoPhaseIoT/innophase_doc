.. _at cmds uc np:

Network protocols
--------------------

Static IP Configuration
~~~~~~~~~~~~~~

Description
~~~~~~~~~~~

This use case is to demonstrate configuring static IP to the Talaria TWO
module. IP address can be assigned to the module in two ways, DHCP based
and Static IP configuration.

Prerequisites 
~~~~~~~~~~~~~~

Access Point configured with WPA/WPA2 personal security.

AT Command Sequence
~~~~~~~~~~~~~~~~~~~

.. table:: Table 1: Static IP Configuration - AT Commands

   +--------------+-------------------------------------------------------+
   | **AT         | **Description**                                       |
   | Command**    |                                                       |
   +==============+=======================================================+
   | *at*         | Check communication state                             |
   +--------------+-------------------------------------------------------+
   | *at+wscan*   | Get list of available APs from the vicinity           |
   +--------------+-------------------------------------------------------+
   | *at+         | Set WLAN Configuration                                |
   | wcfgset*     |                                                       |
   +--------------+-------------------------------------------------------+
   | *at+wcon*    | Connect to WLAN Network as a Station                  |
   +--------------+-------------------------------------------------------+
   | *at+wstatus* | Get IP address of Talaria TWO to verify the           |
   |              | connection is successful                              |
   +--------------+-------------------------------------------------------+

Procedure
~~~~~~~~~

Execute the following commands on Talaria TWO:

.. code:: shell

      at
at+wscan
at+wcfgset=1,192.168.1.8,255.255.255.0,192.168.1.8,8.8.8.8
at+wcon=InnoPhase,Inno@9070
at+wstatus=0


Serial Log
~~~~~~~~~~

|image42|

Figure 1: Static IP Configuration – Serial log

Ping and Reset Functionality
~~~~~~~~~~~~~~

.. _description-1:

Description 
~~~~~~~~~~~~

This use case is to demonstrate generic operations like getting firmware
version, setting system name, ping operation, and software reset.

.. _prerequisites-1:

Prerequisites 
~~~~~~~~~~~~~~

Access Point configured with WPA/WPA2 personal security.

.. _at-command-sequence-1:

AT Command Sequence 
~~~~~~~~~~~~~~~~~~~~

.. table:: Table 2: TCP Server - AT Commands

   +-------------+--------------------------------------------------------+
   | **AT        | **Description**                                        |
   | Command**   |                                                        |
   +=============+========================================================+
   | *at*        | Check communication state                              |
   +-------------+--------------------------------------------------------+
   | *at+ver*    | Get software version                                   |
   +-------------+--------------------------------------------------------+
   | *at+wscan*  | Get list of available APs from the vicinity            |
   +-------------+--------------------------------------------------------+
   | *at+wcon*   | Connect to a desired AP from the received scan results |
   +-------------+--------------------------------------------------------+
   | *           | Get IP address of Talaria TWO to verify the            |
   | at+wstatus* | connection(L2+L3) is successful                        |
   +-------------+--------------------------------------------------------+
   | *           | Set system name                                        |
   | at+sysname* |                                                        |
   +-------------+--------------------------------------------------------+
   | *at+nping*  | Connect to a desired AP from the received scan results |
   +-------------+--------------------------------------------------------+
   | *at+reset*  | Reset the device                                       |
   +-------------+--------------------------------------------------------+

.. _procedure-1:

Procedure 
~~~~~~~~~~

**Step 1**: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.

|image43|

Figure 2: Connecting to AP

**Step 2**: Check the IP address of the Windows laptop using ipconfig
command.

|image44|

Figure 3: Checking IP address

**Step 3**: Execute the following commands on Talaria TWO:

.. code:: shell

      at
at+ver
at+wscan
at+wcon=InnoPhase,Inno@9070
at+wstatus=0
at+nping=192.168.1.5
at+reset
at+wstatus=0


.. _serial-log-1:

Serial Log
~~~~~~~~~~

|image4|

Figure 45: Ping and Reset Functionality - Serial log


.. |image42| image:: media/image42.png
   :width: 7.48031in
   :height: 3.89762in
.. |image43| image:: media/image43.png
   :width: 0.64172in
   :height: 0.30836in
.. |image44| image:: media/image44.png
   :width: 3.14961in
   :height: 5.28344in
.. |image45| image:: media/image45.png
   :width: 7.48031in
   :height: 3.37856in
