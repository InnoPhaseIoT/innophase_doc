<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Use Cases &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Analyzing the Coredump" href="../Coredump/Analyzing%20the%20Coredump.html" />
    <link rel="prev" title="CLI Command Syntax and List Parameters" href="Syntax%20and%20List%20Parameters.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Started_Landing_page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Software_Reference/Prerequisites/libusbK_driver-Zadig.html">Software Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Development_Environments/Development_Environments.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Tools/Tools_Landing.html">Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Applications/Applications-Landing_Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Regulatory%20Notices/Regulatory%20Notices.html">Regulatory Notice</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Backend%20File%20Landing.html">Backend Files - for cross referencing</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../Backend%20File%20Landing.html#cli">CLI</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Command%20Line%20Interface%20-%20Landing.html">Command Line Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="Device%20Interface%20on%20Host%20Machine.html">Device Interface on Host Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="Primary%20Scripts%20for%20CLI%20Operations.html">Primary Scripts for CLI Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Syntax%20and%20List%20Parameters.html">CLI Command Syntax and List Parameters</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Use Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#linux-platform">Linux Platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows-platform-libusbk-installed">Windows Platform – libusbK Installed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows-platform-with-com-port">Windows Platform – With COM Port</a></li>
<li class="toctree-l4"><a class="reference internal" href="#write-new-app-to-device-with-factory-loaded-image">Write New App to Device with Factory Loaded Image</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flash-new-app-to-device-with-an-existing-app">Flash New App to Device with an Existing App</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Backend%20File%20Landing.html#coredump">Coredump</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Backend%20File%20Landing.html#debugging-using-gdb">Debugging using GDB</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Backend%20File%20Landing.html">Backend Files - for cross referencing</a></li>
      <li class="breadcrumb-item active">Use Cases</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Backend Files - for cross referencing/CLI/Use Cases.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="use-cases">
<h1>Use Cases<a class="headerlink" href="#use-cases" title="Permalink to this heading"></a></h1>
<section id="linux-platform">
<h2>Linux Platform<a class="headerlink" href="#linux-platform" title="Permalink to this heading"></a></h2>
<section id="reset-device">
<h3>Reset Device<a class="headerlink" href="#reset-device" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Normal Device Reset</strong></p></li>
</ol>
<p>Reset the device.</p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image110.png"><img alt="A screenshot of a computer Description automatically generated with medium confidence" src="../../_images/image110.png" style="width: 5.90551in; height: 0.69145in;" /></a></p>
<p>Figure 16: Normal device reset - terminal output</p>
<p><strong>Console output</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>$ miniterm /dev/ttyUSB3 2457600</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image210.png"><img alt="Text Description automatically generated" src="../../_images/image210.png" style="width: 5.90551in; height: 1.31037in;" /></a></p>
<p>Figure 17: Normal device reset - console output</p>
<p>In this example, the app HelloWorld is stored in device flash. Hence a
flash-boot from reset will display the Hello World.</p>
<ol class="arabic simple">
<li><p><strong>Device Reset with Inhibiting-flash-boot (Boot loader mode)</strong></p></li>
</ol>
<blockquote>
<div><p>Reset the device with the inhibiting-flash-boot feature.</p>
<p>If the device has app code stored in flash from which the device will
boot, this special reset command is required which will allow
flashing of a new app code.</p>
<p><strong>Command syntax</strong>:</p>
</div></blockquote>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42_bl</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../_images/image32.png"><img alt="image1" src="../../_images/image32.png" style="width: 5.90551in; height: 0.8448in;" /></a></p>
</div></blockquote>
<p>Figure 18: inhibiting-flash-boot - terminal output</p>
<blockquote>
<div><p>This reset will trigger Talaria TWO to abort from device port link
(expected).</p>
<p><a class="reference internal" href="../../_images/image42.png"><img alt="image2" src="../../_images/image42.png" style="width: 5.90551in; height: 1.05263in;" /></a></p>
</div></blockquote>
<p>Figure 19: Abort from device port link</p>
<blockquote>
<div><p>Launch miniterm to resume the device port connection.</p>
<p><a class="reference internal" href="../../_images/image52.png"><img alt="image3" src="../../_images/image52.png" style="width: 5.90551in; height: 0.59042in;" /></a></p>
</div></blockquote>
<p>Figure 20: Resume device port connection</p>
<ol class="arabic simple" start="2">
<li><p><strong>Reset with Inhibiting-flash-boot with booting Gordon</strong></p></li>
</ol>
<blockquote>
<div><p>Reset the device with inhibiting-flash-boot and boot the gordon app.</p>
<p>This combination of commands is for the host to obtain access to the
storage on Talaria TWO and operate read/write data.</p>
<p>Command syntax:</p>
</div></blockquote>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42_bl</strong>
apps/gordon/bin/gordon.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../_images/image61.png"><img alt="image4" src="../../_images/image61.png" style="width: 5.90551in; height: 1.02731in;" /></a></p>
</div></blockquote>
<p>Figure 21: Inhibiting-flash-boot with booting Gordon - terminal output</p>
</section>
<section id="program-app-in-memory">
<h3>Program App in Memory<a class="headerlink" href="#program-app-in-memory" title="Permalink to this heading"></a></h3>
<p>Program app in Talaria TWO memory.</p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42</strong> &lt;path&gt;/app.elf [boot_args
list]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image71.png"><img alt="image5" src="../../_images/image71.png" style="width: 6.29921in; height: 1.49511in;" /></a></p>
<p>Figure 22: Programming app in Talaria TWO memory - terminal output</p>
<p><strong>Console output:</strong></p>
<p><a class="reference internal" href="../../_images/image81.png"><img alt="image6" src="../../_images/image81.png" style="width: 6.29921in; height: 2.28008in;" /></a></p>
<p>Figure 23: Programming app in Talaria TWO memory - console output</p>
</section>
<section id="erase-image-or-program-new-image-in-flash">
<h3>Erase Image or Program New Image in Flash<a class="headerlink" href="#erase-image-or-program-new-image-in-flash" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Erase Image in Flash</p></li>
</ol>
<p>The following command erases the app code in flash:</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Flash empty.img</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/flash.py [device] <strong>write 0x1000 &lt;path&gt;/empty.img</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image91.png"><img alt="image7" src="../../_images/image91.png" style="width: 6.29921in; height: 0.43486in;" /></a></p>
<p>Figure 24: Flash empty.img</p>
<p>Button reset to confirm the erase operation is a success.</p>
<p><a class="reference internal" href="../../_images/image101.png"><img alt="image8" src="../../_images/image101.png" style="width: 6.29921in; height: 1.32202in;" /></a></p>
<p>Figure 25: Erase operation success</p>
<ol class="arabic simple" start="2">
<li><p>Program New Image in Flash</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42_bl</strong> <strong>–flash=all</strong>
&lt;path&gt;/app.elf [boot_args_list]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image111.png"><img alt="image9" src="../../_images/image111.png" style="width: 6.29921in; height: 2.34393in;" /></a></p>
<p>Figure 26: Program new image to flash</p>
<p>Button reset to confirm the flash operation a success.</p>
<p><a class="reference internal" href="../../_images/image121.png"><img alt="image10" src="../../_images/image121.png" style="width: 6.29921in; height: 1.40204in;" /></a></p>
<p>Figure 27: Flash operation success</p>
</section>
<section id="storage-data-file-read-write">
<h3>Storage Data &amp; File: Read/Write<a class="headerlink" href="#storage-data-file-read-write" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Read Partition Table from Device (to_json)</strong></p></li>
</ol>
<p>Reading file from device involves storage access. Hence, running of
Gordon on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: to_json</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/flash.py [device] <strong>to_json</strong>
&lt;user_specify_path&gt;/&lt;user_spefcify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image131.png"><img alt="image11" src="../../_images/image131.png" style="width: 6.29921in; height: 1.51567in;" /></a></p>
<p>Figure 28: Inhibiting-flash-boot and load gordon.elf</p>
<p>Display of the board_356.json file</p>
<p><a class="reference internal" href="../../_images/image141.png"><img alt="Text, timeline Description automatically generated" src="../../_images/image141.png" style="width: 3.10043in; height: 6.51429in;" /></a></p>
<p>Figure 29: Display of the board_356.json file</p>
<ol class="arabic simple" start="2">
<li><p><strong>Write Partition Table in Device (from_json)</strong></p></li>
</ol>
<p>Writing file to device involves storage access. Hence, running of Gordon
on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: from_json</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py [device] <strong>–reset=evk42_bl</strong> &lt;path&gt;/gordon.elf</p>
<p>./script/flash.py [device] <strong>from_json</strong>
&lt;user_specify_path&gt;/&lt;user_spefcify_name&gt;.json</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image151.png"><img alt="image12" src="../../_images/image151.png" style="width: 6.29921in; height: 1.66855in;" /></a></p>
<p>Figure 30: inhibiting-flash-boot and load gordon.elf - terminal output</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image161.png"><img alt="image13" src="../../_images/image161.png" style="width: 6.29921in; height: 1.49655in;" /></a></p>
<p>Figure 31: flash.py - from_json</p>
<ol class="arabic simple" start="3">
<li><p><strong>Show File System Contents</strong></p></li>
</ol>
<p>Display the file system contents.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: tree</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/storage.py <strong>tree</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image171.png"><img alt="image14" src="../../_images/image171.png" style="width: 6.29921in; height: 3.91951in;" /></a></p>
<p>Figure 32: Show file system contents</p>
<ol class="arabic simple" start="4">
<li><p><strong>Read File and Store to Location on Host</strong></p></li>
</ol>
<p>Read file from the file system and store it in host.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: read</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/storage.py <strong>read</strong> &lt;path_read&gt;/&lt;file_name_read&gt;
<strong>–output</strong> &lt;path_write&gt;/&lt;file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image181.png"><img alt="Chart, text Description automatically generated" src="../../_images/image181.png" style="width: 6.29921in; height: 1.04693in;" /></a></p>
<p>Figure 33: Inhibiting-flash-boot and load gordon.elf – terminal output</p>
<p>The file is created:</p>
<p><a class="reference internal" href="../../_images/image191.png"><img alt="Shape, rectangle Description automatically generated with medium confidence" src="../../_images/image191.png" style="width: 3.93701in; height: 0.82677in;" /></a></p>
<p>Figure 34: File creation</p>
<ol class="arabic simple" start="5">
<li><p><strong>Write File to Device</strong></p></li>
</ol>
<p>Write file from host to the device in file system.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: write</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/storage.py <strong>write</strong> &lt;path_read&gt;/&lt;file_name_read&gt;
&lt;path_write&gt;/file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image201.png"><img alt="image15" src="../../_images/image201.png" style="width: 5.90551in; height: 0.46175in;" /></a></p>
<p>Figure 35: Running storage.py - write</p>
<p>Use ./script/storage.py tree command to check the new file on Talaria
TWO file system:</p>
<p><a class="reference internal" href="../../_images/image212.png"><img alt="image16" src="../../_images/image212.png" style="width: 5.90436in; height: 2.34861in;" /></a></p>
<p>Figure 36: Check new file on Talaria TWO file system</p>
<p>Example: Load certificates</p>
<ol class="loweralpha simple">
<li><p>$ ./script/storage.py write rootCACert.pem /data/ca.pem</p></li>
<li><p>$ ./script/storage.py write client_cert.pem /data/client.pem</p></li>
<li><p>$ ./script/storage.py write client_key.pem /data/client.key</p></li>
</ol>
</section>
<section id="network-profile">
<h3>Network Profile<a class="headerlink" href="#network-profile" title="Permalink to this heading"></a></h3>
<p>The Wi-Fi network profile stores the configuration of the Wi-Fi network
with parameters such as SSID, passphrase, BSSID, security type etc.
Network profile can be created from the JSON data.</p>
<p>JSON data can be stored in either:</p>
<ol class="arabic simple">
<li><p>The filesystem: Build a network profile from a file in Talaria TWO
filesystem given by the path in Talaria TWO filesystem</p></li>
</ol>
<p>or</p>
<ol class="arabic simple" start="2">
<li><p>A string: JSON string which describes and parses the network profile</p></li>
</ol>
<p>Characteristics of creating JSON network profile:</p>
<ol class="arabic simple">
<li><p>All network profiles MUST start with { and end with }.</p></li>
<li><p>The network profile contents use the form (“key”: “value”) pairs.</p></li>
<li><p>All the (“key”: “value”) pairs MUST be followed by a comma (,) EXCEPT
the last row.</p></li>
<li><p>There is NO COMMA at the end of the network profile.</p></li>
<li><p>Mandatory fields MUST always be present, otherwise, parsing the
network profile will fail.</p></li>
<li><p>If a passphrase contains double quotes, for example: “my_secret”, a
backslash MUST preceded the double quotes, i.e., “passphrase”:
“\”my_secret\””.</p></li>
</ol>
<p><strong>Note</strong>:</p>
<p>To avoid recomputing the PMK for each connection (WPA/WPA2-PSK), it can
be stored in Talaria TWO’s flash. This can be done by a pmk_path key and
the location of PMK file in Talaria TWO flash. There are two new keys to
make it easier in creating network profiles:</p>
<ol class="arabic simple">
<li><p>security_type key which replaces the old np_type in network profiles
and can have the following values depending the type of the network:</p>
<ol class="loweralpha simple">
<li><p>open</p></li>
<li><p>wpa_psk or wpa2_psk</p></li>
<li><p>wpa3_psk</p></li>
<li><p>wpa23_psk</p></li>
<li><p>enterprise</p></li>
</ol>
</li>
<li><p>auth_type key which can ONLY be used when configuring enterprise
network profiles and describes the authentication protocol. Values
for auth_type can be:</p>
<ol class="loweralpha simple">
<li><p>eap_psk</p></li>
<li><p>eap_tls</p></li>
<li><p>eap_peap</p></li>
</ol>
</li>
</ol>
<p>Following are some examples of JSON data specifying different network
profiles:</p>
<ol class="arabic simple">
<li><p><strong>Open security</strong>:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “open”</p>
<p>“ssid”: “my_ap_ssid”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields:</p>
<ol class="loweralpha simple">
<li><p>Mandatory – security_type, ssid</p></li>
<li><p>Optional – bssid</p></li>
</ol>
<ol class="arabic simple" start="2">
<li><p><strong>WPA/WPA2-PSK</strong>:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “wpa23_psk”,</p>
<p>“ssid”: “my_wpa2_ap_ssid”,</p>
<p>“passphrase”: “my_wpa2_passphrase”</p>
<p>“pmk_path”: “sys/pmkey_fname.data”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields:</p>
<ol class="loweralpha simple">
<li><p>Mandatory – security_type, ssid, passphrase</p></li>
<li><p>Optional – bssid, pmk_path</p></li>
</ol>
<ol class="arabic simple" start="3">
<li><p><strong>WPA/WPA2-PSK</strong> specifying one specific AP among several with same
SSID. BSSID is the APs mac address:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “wpa2_psk”,</p>
<p>“ssid”: “my_wpa2_ap_ssid”,</p>
<p>“passphrase”: “my_wpa2_passphrase”,</p>
<p>“bssid”: “my_ap_bssid”</p>
<p>“pmk_path”: “/data/pmkey.data”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields:</p>
<ol class="loweralpha simple">
<li><p>Mandatory – security_type, ssid, passphrase</p></li>
<li><p>Optional – bssid, pmk_path</p></li>
</ol>
<ol class="arabic simple" start="4">
<li><p><strong>WPA3-PSK (SAE)</strong> only:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “wpa3_psk”,</p>
<p>“ssid”: “my_wpa3_ap_ssid”,</p>
<p>“sae_password”: “my_sae_password”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields</p>
<ol class="loweralpha simple">
<li><p>Mandatory: security_type, ssid, sae_password</p></li>
<li><p>Optional : sae_password_id, bssid</p></li>
</ol>
<ol class="arabic simple" start="5">
<li><p><strong>WPA/WPA2-PSK and WPA3-PSK.</strong> If WPA3 is available, it will be given
a higher priority:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “wpa23_psk”,</p>
<p>“ssid”: “my_wpa2_wpa3_ap_ssid”,</p>
<p>“sae_password”: “my_sae_password”</p>
<p>“passphrase”: “my_wpa2_passphrase”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields</p>
<ol class="loweralpha simple">
<li><p>Mandatory: security_type, ssid, sae_password, passphrase</p></li>
<li><p>Optional : bssid</p></li>
</ol>
<ol class="arabic simple" start="6">
<li><p><strong>EAP-PSK</strong> Enterprise security:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “enterprise”,</p>
<p>“auth_type”: “eap_psk”,</p>
<p>“ssid”: “my_eap_psk_ap_ssid”,</p>
<p>“passphrase”: “my_eap_psk_passphrase”,</p>
<p>“identity”: “my_eap_identity”</p>
<p>}</p>
<p>Profile fields</p>
<p>Mandatory: security_type, auth_type, ssid, passphrase, identity</p>
<p>Optional : bssid }</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<section id="id3">
<h4><a href="#id1"><span class="problematic" id="id2">**</span></a><a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<ol class="arabic simple" start="7">
<li><p><strong>EAP-TLS</strong> Enterprise security.</p></li>
</ol>
<p><strong>Note</strong>: Storing the certificate and key files on flash is not part of
the network profile functionality.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “enterprise”,</p>
<p>“auth_type”: “eap_tls”,</p>
<p>“ssid”: “my_eap_tls_ap_ssid”,</p>
<p>“identity”: “my_eap_tls_identity”,</p>
<p>“ca_path”: “/data/ca.pem”,</p>
<p>“cert_path”: “/data/client.pem”,</p>
<p>“pkey_path”: “/data/client.key”,</p>
<p>“pkey_pwd”: “my_key_password”</p>
<p>}</p>
<p>Profile fields</p>
<p>Mandatory: security_type, auth_type, ssid, identity, ca_path,
cert_path, pkey_path</p>
<p>Optional : bssid, pkey_pwd, dh_path, server_hostname</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="8">
<li><p><strong>EAP-PEAP/MSCHAPv2</strong> Enterprise security:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”: “enterprise”,</p>
<p>“auth_type”: “eap_peap”,</p>
<p>“ssid”: “my_eap_peap-mschapv2_ssid”,</p>
<p>“identity”: “my_eap_peap_identity”,</p>
<p>“ca_path”: “/data/ca.pem”,</p>
<p>“identity2”: “eap-peap”,</p>
<p>“password”: “password”,</p>
<p>“phase2auth”:”MSCHAPv2”</p>
<p>}</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Profile fields</p>
<ol class="loweralpha simple">
<li><p>Mandatory: security_type, auth_type, ssid, identity, ca_path,
identity2, password, phase2auth</p></li>
<li><p>Optional : bssid, server_hostname.</p></li>
</ol>
<blockquote>
<div><p><strong>Note</strong>: For “phase2auth”, the key MUST always be “phase2auth”:
while the VALUE can be, For example: “MSCHAPv2”, “mschapv2” or
“MsChAPv2” or any other similar lower/upper case letter combination.</p>
</div></blockquote>
<p><strong>Prerequisites:</strong></p>
<p>To upload network profile into Talaria TWO file system, running of
Gordon on the device is necessary.</p>
<ol class="arabic simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Write network profile JSON to Talaria TWO</p></li>
</ol>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python ./script/storage.py [device] write
&lt;user_specify_path&gt;/&lt;user_spefcify_name&gt;.json
/data/&lt;user_specify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: It is a single line command.</p>
<p><strong>Steps:</strong></p>
<ol class="arabic simple">
<li><p>Create a Network Profile File(JSON file).</p></li>
</ol>
<p>Create a file and name anywhere in your PC and name it <strong>nprofile.json</strong>
or <strong>&lt;file_name&gt;.json</strong>, and copy the following contents (we assume we
are connecting to a WPA2-PSK network):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>{</p>
<p>“security_type”:”wpa23_psk”,</p>
<p>“ssid”: “My-AP-Name”,</p>
<p>“passphrase”: “0CD7AC607B”</p>
<p>}</p>
<p>nprofile.json file:</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="2">
<li><p>To upload our network profile into Talaria file system, start
<strong>gordon.elf</strong> and reset in bootloader mode.</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>pythton ./script/boot.py –reset=evk42_bl apps/gordon/bin/gordon.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image221.png"><img alt="image17" src="../../_images/image221.png" style="width: 5.90551in; height: 1.16492in;" /></a></p>
<p>Figure 37: Starting gordon.elf</p>
<ol class="arabic simple" start="3">
<li><p>Use <strong>storage.py</strong> to write the network config file
(<strong>nprofile.json</strong>) into Talaria TWO file system in the partition
/data.</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python ./script/storage.py write nprofile.json /data/nprofile.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Command Log:</p>
<p><a class="reference internal" href="../../_images/image212.png"><img alt="image18" src="../../_images/image212.png" style="width: 5.90436in; height: 0.4625in;" /></a></p>
<p>Figure 38: Writing network config file</p>
<p>Console Log:</p>
<p><a class="reference internal" href="../../_images/image231.png"><img alt="image19" src="../../_images/image231.png" style="width: 5.90551in; height: 0.86422in;" /></a></p>
<p>Figure 39: Writing network config file – console output</p>
<ol class="arabic simple" start="4">
<li><p>Program(RAM/FLASH) app to connect to the Access Point configured in
<strong>nprofile.json</strong> as:</p>
<ol class="loweralpha simple">
<li><p>Program RAM:</p></li>
</ol>
</li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python ./script/boot.py –reset=evk42
examples/using_wifi/bin/wifi_connect.elf
np_conf_path=/data/nprofile.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>Command Log:</p>
<p><a class="reference internal" href="../../_images/image241.png"><img alt="image20" src="../../_images/image241.png" style="width: 5.11811in; height: 1.72643in;" /></a></p>
</div></blockquote>
<p>Figure 40: Program RAM to connect to AP</p>
<blockquote>
<div><p>Console Log:</p>
<p><a class="reference internal" href="../../_images/image251.png"><img alt="A screenshot of a computer Description automatically generated" src="../../_images/image251.png" style="width: 5.51181in; height: 4.94003in;" /></a></p>
</div></blockquote>
<p>Figure 41: Program RAM - Console output</p>
<ol class="loweralpha simple" start="2">
<li><p>Program FLASH:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python ./script/boot.py –reset=evk42 –flash=all
examples/using_wifi/bin/wifi_connect.elf
np_conf_path=/data/nprofile.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>Command Log:</p>
<p><a class="reference internal" href="../../_images/image261.png"><img alt="A black background with white text Description automatically generated with medium confidence" src="../../_images/image261.png" style="width: 5.90551in; height: 0.89989in;" /></a></p>
</div></blockquote>
<p>Figure 42: Program Flash to connect to AP</p>
<blockquote>
<div><p>Console Log:</p>
<p><a class="reference internal" href="../../_images/image271.png"><img alt="A screenshot of a computer program Description automatically generated" src="../../_images/image271.png" style="width: 5.51181in; height: 4.9459in;" /></a></p>
</div></blockquote>
<p>Figure 43: Program Flash - Console output</p>
</section>
</section>
</section>
<section id="windows-platform-libusbk-installed">
<h2>Windows Platform – libusbK Installed<a class="headerlink" href="#windows-platform-libusbk-installed" title="Permalink to this heading"></a></h2>
<section id="reset-device-1">
<span id="id4"></span><h3>Reset Device<a class="headerlink" href="#reset-device-1" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Device Reset</strong></p></li>
</ol>
<p>Reset the device.</p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] <strong>–reset=evk42</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image281.png"><img alt="image21" src="../../_images/image281.png" style="width: 6.29921in; height: 0.96024in;" /></a></p>
<p>Figure 44: Device reset</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image291.png"><img alt="image22" src="../../_images/image291.png" style="width: 6.29921in; height: 1.10055in;" /></a></p>
<p>Figure 45: Device reset - console output</p>
<ol class="arabic simple" start="2">
<li><p><strong>Device Reset with Inhibiting-flash-boot</strong></p></li>
</ol>
<p>Reset the device with the inhibiting-flash-boot feature.</p>
<p>If the device has app code stored in flash from which the device will
boot, this special reset command is required which will allow to flash a
new app code.</p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] <strong>–reset=evk42_bl</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image301.png"><img alt="image23" src="../../_images/image301.png" style="width: 6.29921in; height: 1.0881in;" /></a></p>
<p>Figure 46: Device Reset with Inhibiting-flash-boot</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image311.png"><img alt="Table Description automatically generated with medium confidence" src="../../_images/image311.png" style="width: 6.29921in; height: 0.87801in;" /></a></p>
<p>Figure 47: Device Reset with Inhibiting-flash-boot - console output</p>
<p>The device has been put into the programming mode
(inhibiting-flash-boot).</p>
<ol class="arabic simple" start="3">
<li><p><strong>Reset with Inhibiting-flash-boot and booting Gordon</strong></p></li>
</ol>
<p>Reset the device with inhibiting-flash-boot and boot Gordon app.</p>
<p>This combination of commands is for the host to obtain access to the
storage on Talaria TWO and operate read/write data.</p>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] <strong>–reset=evk42_bl</strong>
apps\gordon\bin\gordon.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image321.png"><img alt="image24" src="../../_images/image321.png" style="width: 6.29921in; height: 0.96933in;" /></a></p>
<p>Figure 48: Reset with Inhibiting-flash-boot with booting Gordon</p>
<p><strong>Console output:</strong></p>
<p><a class="reference internal" href="../../_images/image33.png"><img alt="A picture containing graphical user interface Description automatically generated" src="../../_images/image33.png" style="width: 6.29921in; height: 0.98259in;" /></a></p>
<p>Figure 49: Reset with Inhibiting-flash-boot with booting Gordon -
console output</p>
</section>
<section id="program-app-in-memory-1">
<span id="id5"></span><h3>Program App in Memory<a class="headerlink" href="#program-app-in-memory-1" title="Permalink to this heading"></a></h3>
<p>Program app in Talaria TWO memory, assuming Talaria TWO has no code
stored in flash to boot from.</p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] <strong>–reset=evk42</strong> &lt;path&gt;\app.elf
[boot_args_list]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image341.png"><img alt="image25" src="../../_images/image341.png" style="width: 6.29921in; height: 1.6378in;" /></a></p>
<p>Figure 50: Program app in Talaria TWO memory</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image351.png"><img alt="image26" src="../../_images/image351.png" style="width: 6.29921in; height: 2.23423in;" /></a></p>
<p>Figure 51: Program app in Talaria TWO memory - console output</p>
</section>
<section id="erase-image-or-program-new-image-in-flash-1">
<span id="id6"></span><h3>Erase Image or Program New Image in Flash<a class="headerlink" href="#erase-image-or-program-new-image-in-flash-1" title="Permalink to this heading"></a></h3>
<p><strong>Erase Image in Flash</strong></p>
<p>The following command erases the app code in flash:</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done so)</p></li>
<li><p>Flash empty.img</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>write 0x1000 &lt;path&gt;\empty.img</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image361.png"><img alt="image27" src="../../_images/image361.png" style="width: 6.29921in; height: 0.52922in;" /></a></p>
<p>Figure 52: Erase image in flash</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image371.png"><img alt="image28" src="../../_images/image371.png" style="width: 6.29921in; height: 0.92827in;" /></a></p>
<p>Figure 53: Erase image in flash - console output</p>
<p><strong>Program New Image in Flash</strong></p>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] <strong>–reset=evk42_bl</strong> <strong>–flash=all</strong>
&lt;path&gt;\app.elf [boot_args_list]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image38.png"><img alt="image29" src="../../_images/image38.png" style="width: 6.29921in; height: 1.68091in;" /></a></p>
<p>Figure 54: Program new image in flash</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image39.png"><img alt="Text Description automatically generated with medium confidence" src="../../_images/image39.png" style="width: 6.29921in; height: 1.21173in;" /></a></p>
<p>Figure 55: Program new image in flash - console output</p>
</section>
<section id="storage-data-file-readwrite-1">
<span id="id7"></span><h3>Storage Data &amp; File: Read/Write<a class="headerlink" href="#storage-data-file-readwrite-1" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Read Partition Table from Device (to_json)</strong></p></li>
</ol>
<p>Reading file from device involves storage access. Hence, the running of
Gordon on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: to_json</p></li>
</ol>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>to_json</strong>
&lt;user_specify_path&gt;\&lt;user_spefcify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image40.png"><img alt="image30" src="../../_images/image40.png" style="width: 6.29921in; height: 1.23126in;" /></a></p>
<p>Figure 56: Read Partition Table from device</p>
<p>Display of the board_0183.json file</p>
<p><a class="reference internal" href="../../_images/image141.png"><img alt="Text, timeline Description automatically generated" src="../../_images/image141.png" style="width: 3.10043in; height: 6.51429in;" /></a></p>
<p>Figure 57: Display of the board_0183.json file</p>
<ol class="arabic simple" start="2">
<li><p><strong>Write Partition Table in Device (from_json)</strong></p></li>
</ol>
<p>Writing file to device involves storage access. Hence, running of Gordon
on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: from_json</p></li>
</ol>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>from_json</strong>
&lt;user_specify_path&gt;/&lt;user_spefcify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image411.png"><img alt="image31" src="../../_images/image411.png" style="width: 6.29921in; height: 1.38806in;" /></a></p>
<p>Figure 58: Write Partition Table in device</p>
<ol class="arabic simple" start="3">
<li><p><strong>Show File System Contents</strong></p></li>
</ol>
<p>Display the file system contents.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: tree</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>tree</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image421.png"><img alt="image32" src="../../_images/image421.png" style="width: 5.90551in; height: 3.96993in;" /></a></p>
<p>Figure 59: Show file system contents</p>
<ol class="arabic simple" start="4">
<li><p><strong>Read File and Store to Location on Host</strong></p></li>
</ol>
<p>Read file from the file system and store it in host.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: read</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>read</strong>
&lt;path_read&gt;\&lt;file_name_read&gt; <strong>–output</strong>
&lt;path_write&gt;/&lt;file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: Single line command.</p>
<p><a class="reference internal" href="../../_images/image43.png"><img alt="image33" src="../../_images/image43.png" style="width: 6.29921in; height: 0.55095in;" /></a></p>
<p>Figure 60: Read file and store to location on host</p>
<p>The file is created as per user entry:</p>
<p><a class="reference internal" href="../../_images/image44.png"><img alt="image34" src="../../_images/image44.png" style="width: 3.93701in; height: 0.50238in;" /></a></p>
<p>Figure 61: File creation</p>
<ol class="arabic simple" start="5">
<li><p><strong>Write File to Device</strong></p></li>
</ol>
<p>Write file from host to the device in file system.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: write</p></li>
</ol>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>write</strong>
&lt;path_read&gt;\&lt;file_name_read&gt; &lt;path_write&gt;\file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: A single line command.</p>
<p><a class="reference internal" href="../../_images/image45.png"><img alt="image35" src="../../_images/image45.png" style="width: 6.29921in; height: 0.56564in;" /></a></p>
<p>Figure 62: Write file to device</p>
<p>Use the ./script/storage.py tree command to check the new file on
Talaria TWO file system:</p>
<p><a class="reference internal" href="../../_images/image212.png"><img alt="image36" src="../../_images/image212.png" style="width: 6.29818in; height: 2.5in;" /></a></p>
<p>Figure 63: Check new file on Talaria TWO file system</p>
</section>
</section>
<section id="windows-platform-with-com-port">
<h2>Windows Platform – With COM Port<a class="headerlink" href="#windows-platform-with-com-port" title="Permalink to this heading"></a></h2>
<p>To retrieve the COM ports on the device, the libusbK drivers need to be
uninstalled.</p>
<p>For more details on updating driver from libusbK to COM port, refer
section: Update Driver from libusbK to COM Port of document
UG_Download_Tool.pdf (<em>sdk_x.y\pc_tools\Download_Tool\doc</em>).</p>
<p><strong>Note</strong>: x and y in sdk_x.y refer to the SDK release version.</p>
<section id="reset-device-2">
<span id="id8"></span><h3>Reset Device<a class="headerlink" href="#reset-device-2" title="Permalink to this heading"></a></h3>
<p>All command resets are not supported under this setup.</p>
<p>Depending on the requirement to reset the device manually, execute the
following steps:</p>
<ol class="arabic simple">
<li><p>Reset the device manually:</p>
<ol class="loweralpha simple">
<li><p>Press the RESET button on Talaria TWO EVB</p></li>
</ol>
</li>
<li><p>Inhibiting-flash-boot (to re-enable programming):</p>
<ol class="loweralpha simple">
<li><p>Short GPIO17 to GND</p></li>
<li><p>Press the RESET button on EVB</p></li>
<li><p>Un-short GPIO17 and GND</p></li>
<li><p>Load gordon.elf from host, using boot.py</p></li>
</ol>
</li>
</ol>
</section>
<section id="load-gordon">
<h3>Load Gordon<a class="headerlink" href="#load-gordon" title="Permalink to this heading"></a></h3>
<p>Load Gordon app to run the flash.py from host, assuming the image in
device flash has been erased or has been placed in the
inhibiting-flash-boot state.</p>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\boot.py [device] apps\gordon\bin\gordon.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image46.png"><img alt="image37" src="../../_images/image46.png" style="width: 7.48031in; height: 1.18536in;" /></a></p>
<p>Figure 64: Load gordon.elf</p>
<p>Console output shows the inhibiting-flash-boot in effect and Gordon
being ready.</p>
<p><a class="reference internal" href="../../_images/image47.png"><img alt="image38" src="../../_images/image47.png" style="width: 7.48031in; height: 1.43047in;" /></a></p>
<p>Figure 65: inhibiting-flash-boot in effect</p>
</section>
<section id="erase-image">
<h3>Erase Image<a class="headerlink" href="#erase-image" title="Permalink to this heading"></a></h3>
<p>The following command erases the app code in flash.</p>
<ol class="arabic simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done so)</p></li>
<li><p>Flash empty.img</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>write 0x1000 &lt;path&gt;\empty.img</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image48.png"><img alt="A picture containing timeline Description automatically generated" src="../../_images/image48.png" style="width: 7.48031in; height: 0.74305in;" /></a></p>
<p>Figure 66: Erase image</p>
<p>Button reset to confirm the erase operation is a success.</p>
<p><a class="reference internal" href="../../_images/image49.png"><img alt="image39" src="../../_images/image49.png" style="width: 7.48031in; height: 1.14822in;" /></a></p>
<p>Figure 67: Erase operation – success</p>
</section>
<section id="storage-data-file-readwrite-2">
<span id="id9"></span><h3>Storage Data &amp; File: Read/Write<a class="headerlink" href="#storage-data-file-readwrite-2" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Read Partition Table from Device (to_json)</strong></p></li>
</ol>
<p>Reading file from device involves storage access. Hence, running of
Gordon on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: to_json</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>to_json</strong>
&lt;user_specify_path&gt;\&lt;user_spefcify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image50.png"><img alt="image40" src="../../_images/image50.png" style="width: 7.00787in; height: 1.69683in;" /></a></p>
<p>Figure 68: Read Partition Table from device</p>
<p>Display of the board_0407.json file</p>
<p><a class="reference internal" href="../../_images/image141.png"><img alt="Text, timeline Description automatically generated" src="../../_images/image141.png" style="width: 3.10043in; height: 6.51429in;" /></a></p>
<p>Figure 69: Display of the board_0407.json file</p>
<ol class="arabic simple" start="2">
<li><p><strong>Write Partition Table in Device (from_json)</strong></p></li>
</ol>
<p>Writing file to device involves storage access. Hence, running of Gordon
on the device is necessary.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the flash.py with the command: from_json</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\flash.py [device] <strong>from_json</strong>
&lt;user_specify_path&gt;/&lt;user_spefcify_name&gt;.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image511.png"><img alt="image41" src="../../_images/image511.png" style="width: 6.29921in; height: 1.43079in;" /></a></p>
<p>Figure 70: Write Partition Table in device</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image521.png"><img alt="image42" src="../../_images/image521.png" style="width: 6.29921in; height: 1.79405in;" /></a></p>
<p>Figure 71: Write Partition Table in device - console output</p>
<ol class="arabic simple" start="3">
<li><p><strong>Show File System Contents</strong></p></li>
</ol>
<p>Display the file system contents.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: tree</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>tree</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image53.png"><img alt="image43" src="../../_images/image53.png" style="width: 6.29921in; height: 4.97065in;" /></a></p>
<p>Figure 72: Show file system contents</p>
<ol class="arabic simple" start="4">
<li><p><strong>Read File and Store to Location on Host</strong></p></li>
</ol>
<p>Read file from the file system and store it in host.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: read</p></li>
</ol>
<p><strong>Command syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>read</strong>
&lt;path_read&gt;\&lt;file_name_read&gt; <strong>–output</strong>
&lt;path_write&gt;/&lt;file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: A single line command.</p>
<p><a class="reference internal" href="../../_images/image54.png"><img alt="image44" src="../../_images/image54.png" style="width: 6.29921in; height: 0.63639in;" /></a></p>
<p>Figure 73: Read file and store to location on host</p>
<p>The file is created per user entry:</p>
<p><a class="reference internal" href="../../_images/image55.png"><img alt="image45" src="../../_images/image55.png" style="width: 3.93701in; height: 0.47118in;" /></a></p>
<p>Figure 74: File creation</p>
<ol class="arabic simple" start="3">
<li><p><strong>Write File to Device</strong></p></li>
</ol>
<p>Write file from the host to the device in file system.</p>
<ol class="loweralpha simple">
<li><p>Reset device with inhibiting-flash-boot and load gordon.elf (if not
done already)</p></li>
<li><p>Run the storage.py with the command: write</p></li>
</ol>
<p><strong>Command syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>python script\storage.py [device] <strong>write</strong>
&lt;path_read&gt;\&lt;file_name_read&gt; &lt;path_write&gt;\file_name_write&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: A single line command.</p>
<p><a class="reference internal" href="../../_images/image56.png"><img alt="image46" src="../../_images/image56.png" style="width: 6.29921in; height: 0.76846in;" /></a></p>
<p>Figure 75: Write file to device</p>
<p>Use the ./script/storage.py tree command to check the new file on
Talaria TWO file system:</p>
<p><a class="reference internal" href="../../_images/image57.png"><img alt="image47" src="../../_images/image57.png" style="width: 6.29921in; height: 0.63301in;" /></a></p>
<p>Figure 76: Check new file on Talaria TWO filesystem</p>
</section>
</section>
<section id="write-new-app-to-device-with-factory-loaded-image">
<h2>Write New App to Device with Factory Loaded Image<a class="headerlink" href="#write-new-app-to-device-with-factory-loaded-image" title="Permalink to this heading"></a></h2>
<p>Assume a Talaria TWO module is preloaded loaded with factory-loaded app
like the helloworld app as shown in Figure 77.</p>
<p><a class="reference internal" href="../../_images/image58.png"><img alt="image48" src="../../_images/image58.png" style="width: 6.29921in; height: 3.89528in;" /></a></p>
<p>Figure 77: Talaria TWO preloaded with factory-loaded app</p>
<section id="sequence-of-cli-commands">
<h3>Sequence of CLI Commands<a class="headerlink" href="#sequence-of-cli-commands" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Reset with inhibiting-flash-boot and load Gordon</strong></p></li>
</ol>
<p><strong>Command Syntax:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py –device /dev/ttyUSB2 –reset=evk42_bl
apps/gordon/bin/gordon.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Console Output</strong>:</p>
<p><a class="reference internal" href="../../_images/image59.png"><img alt="image49" src="../../_images/image59.png" style="width: 6.29921in; height: 1.12996in;" /></a></p>
<p>Figure 78: Reset with inhibiting-flash-boot and load gordon</p>
<ol class="arabic simple" start="2">
<li><p><strong>Write the Partition Table</strong></p></li>
</ol>
<p>Write the Partition Table which is a standard configuration,
standard_part_table.json, to Talaria TWO device:</p>
<p><strong>Command Syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/flash.py –device /dev/ttyUSB2 from_json
tools/partition_files/standard_part_table.json</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: A single line command.</p>
<p><strong>Console Output</strong>:</p>
<p><a class="reference internal" href="../../_images/image60.png"><img alt="image50" src="../../_images/image60.png" style="width: 6.29921in; height: 0.43812in;" /></a></p>
<p>Figure 79: Write partition table - console output</p>
<ol class="arabic simple" start="3">
<li><p><strong>Flash New App to Device</strong></p></li>
</ol>
<p>Write a new application, iperf3 with bootargs, to the device.</p>
<p><strong>Command Syntax</strong>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py –device /dev/ttyUSB2 –reset=evk42_bl –flash=all
./apps/iperf3/bin/iperf3.elf ssid=TP-LINK_Guest_864F
passphrase=test13579</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image611.png"><img alt="image51" src="../../_images/image611.png" style="width: 6.29921in; height: 2.04523in;" /></a></p>
<p>Figure 80: Flash new app to device</p>
<p>Re-launch the console terminal app and reset Talaria TWO device.</p>
<p><strong>Console output</strong>:</p>
<p><a class="reference internal" href="../../_images/image62.png"><img alt="image52" src="../../_images/image62.png" style="width: 6.29921in; height: 2.62131in;" /></a></p>
<p>Figure 81: Flash new app to device - console output</p>
<p>Figure 81 shows that the new app has been written to Talaria TWO’s flash
and runs as expected.</p>
</section>
</section>
<section id="flash-new-app-to-device-with-an-existing-app">
<h2>Flash New App to Device with an Existing App<a class="headerlink" href="#flash-new-app-to-device-with-an-existing-app" title="Permalink to this heading"></a></h2>
<p>Write the new app, stw.elf, to flash.</p>
<p>Command Syntax:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>./script/boot.py –device /dev/ttyUSB2 –reset=evk42_bl –flash=all
./apps/stw/bin/stw.elf</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../_images/image63.png"><img alt="image53" src="../../_images/image63.png" style="width: 6.29921in; height: 2.04994in;" /></a></p>
<p>Figure 82: Write new app to flash</p>
<p>Re-launch the console terminal app and reset Talaria TWO device.</p>
<p><strong>Console Output</strong>:</p>
<p><a class="reference internal" href="../../_images/image64.png"><img alt="image54" src="../../_images/image64.png" style="width: 6.29921in; height: 1.32781in;" /></a></p>
<p>Figure 83: Write new app to flash - console output</p>
<p>Figure 83 shows that the new app, STW, has been written to Talaria TWO’s
flash and runs as expected.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Syntax%20and%20List%20Parameters.html" class="btn btn-neutral float-left" title="CLI Command Syntax and List Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Coredump/Analyzing%20the%20Coredump.html" class="btn btn-neutral float-right" title="Analyzing the Coredump" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>