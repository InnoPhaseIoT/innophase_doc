<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>http client &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="mdns" href="mdns_apiref.html" />
    <link rel="prev" title="FirmWare Over The Air" href="fota_apiref.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Getting%20Started/Getting%20Started%20-%20Landing%20Page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Hardware%20Reference/Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Software_Reference_Landing_Page.html">Software Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../Software_Reference_Landing_Page.html#libraries">Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html">1.  alarm</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#fota">2.  fota</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="1.%20Libraries-Landing.html#http">3.  http</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">http client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#mdns">4.  mdns</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#mqtt">5.  mqtt</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#prov">6.  prov</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#sntp">7.  sntp</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#ssl-wrap">8.  ssl_wrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#utils">9.  utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="1.%20Libraries-Landing.html#websocket">10. websocket</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Software_Reference_Landing_Page.html#solutions">Solutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Software_Reference_Landing_Page.html#cloud-frameworks">Cloud Frameworks</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Development%20Environments/Development%20Environments%20-%20Landing%20Page.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Tools/Tools-landing%20page.html">Tool</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Applications/Applications%20-%20Landing%20Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Regulatory%20Notices/Regulatory%20Notices.html">Regulatory Notices</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Porting%20Guide/Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Support/Support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Disclaimers/Disclaimers.html">Disclaimer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Appendix/Appendix-Landing_Page.html">Appendix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Software_Reference_Landing_Page.html">Software Reference</a></li>
          <li class="breadcrumb-item"><a href="1.%20Libraries-Landing.html">1.  alarm</a></li>
      <li class="breadcrumb-item active">http client</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Software Reference/1. Libraries/httpclient_apiref.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="http-client">
<h1>http client<a class="headerlink" href="#http-client" title="Permalink to this heading"></a></h1>
<p>HTTP is a stateless application-level protocol used for data transfer.
This section provides information about the HTTP Client APIs and data
structures that can be used by user applications to connect to HTTP
server and transfer data.</p>
<section id="features-and-limitations">
<h2>Features and Limitations<a class="headerlink" href="#features-and-limitations" title="Permalink to this heading"></a></h2>
<p>Following is the list of salient features of this HTTP/S implementation:</p>
<ol class="arabic simple">
<li><p>HTTP 1.1 version. Both HTTP and HTTPS</p></li>
<li><p>Both the server IP address and the host name (Domain Name)</p></li>
<li><p>HTTP GET and POST methods</p></li>
<li><p>Setting of headers by the application. Only the Host header is
implicitly set</p></li>
<li><p>Supports receiving the response with Transfer encoding Chunked</p></li>
<li><p>Supports chain of CA certificates or the bundle of CA certificates
(as configured in browser)</p></li>
</ol>
<p>Following are the limitations:</p>
<ol class="arabic simple">
<li><p>CA certificate must be in the PEM format</p></li>
<li><p>HTTP redirection is not supported</p></li>
</ol>
</section>
<section id="header-file-s">
<h2>Header file/s<a class="headerlink" href="#header-file-s" title="Permalink to this heading"></a></h2>
<p>Components/http/inc/http_client.h.</p>
</section>
<section id="data-structure-definitions">
<h2>Data Structure Definitions<a class="headerlink" href="#data-structure-definitions" title="Permalink to this heading"></a></h2>
</section>
<section id="http-client-config-t">
<h2>http_client_config_t<a class="headerlink" href="#http-client-config-t" title="Permalink to this heading"></a></h2>
<p>This data structure is used to pass the parameters while opening a HTTP
connection with the remote server using http_client_open API.</p>
<table class="docutils align-default" id="id17">
<caption><span class="caption-text">Table : http_client_config_t - parameters</span><a class="headerlink" href="#id17" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>hostname</strong></p></th>
<th class="head"><p>Host name or the IP address of the server. Example,
“google.com” or “192.168.1.1”</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>port</strong></p></td>
<td><p>Server port</p></td>
</tr>
<tr class="row-odd"><td><p><strong>secured</strong></p></td>
<td><p>0 – HTTP</p>
<p>1- HTTPS without server verification</p>
<p>2 – HTTPS with server certificate validation</p>
</td>
</tr>
<tr class="row-even"><td><p>**
ssl_wrap_cfg_t
ssl_cfg**</p></td>
<td><p>SSL configuration for secured connection</p></td>
</tr>
<tr class="row-odd"><td><p><strong>time_out</strong></p></td>
<td><p>Connect timeout in seconds</p></td>
</tr>
</tbody>
</table>
</section>
<section id="http-client-resp-info-t">
<h2>http_client_resp_info_t<a class="headerlink" href="#http-client-resp-info-t" title="Permalink to this heading"></a></h2>
<p>This data structure is used to pass information about the data received
from the server when HTTP GET is done using the http_client_get API.</p>
<table class="docutils align-default" id="id18">
<caption><span class="caption-text">Table : http_client_resp_info_t - parameters</span><a class="headerlink" href="#id18" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><ul class="simple">
<li></li>
</ul>
<p><em>status_code*</em></p>
</th>
<th class="head"><p>HTTP response status code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>resp_hdrs</strong></p></td>
<td><p>Response headers. Array of strings</p></td>
</tr>
<tr class="row-odd"><td><p><strong>resp_body</strong></p></td>
<td><p>Response body len</p></td>
</tr>
<tr class="row-even"><td><p><strong>resp_len</strong></p></td>
<td><p>Resp len, currently available in the resp_body</p></td>
</tr>
<tr class="row-odd"><td><p><strong>re
sp_total_len</strong></p></td>
<td><p>Total length of the response body. If 0, no total
length available beforehand as the body maybe sent
using chunked or multipart encoding</p></td>
</tr>
<tr class="row-even"><td><p><strong>more_data</strong></p></td>
<td><p>More data will be followed. The callback will be
called again</p></td>
</tr>
</tbody>
</table>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
</section>
<section id="http-client-open">
<h2>http_client_open<a class="headerlink" href="#http-client-open" title="Permalink to this heading"></a></h2>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>This API connects to the remote HTTP server. The configuration needed
for the connection is passed using http_client_config_t.</p>
</section>
<section id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id19">
<caption><span class="caption-text">Table : http_client_open – parameters</span><a class="headerlink" href="#id19" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>http_client_handle_t</p>
<p>http_client_open(http_client_config_t *cfg)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id20">
<caption><span class="caption-text">Table : http_client_get - parameters</span><a class="headerlink" href="#id20" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Pa
rameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>cfg</em></p></td>
<td><p>Pointer to the data structure http_client_config_t</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return">
<h2>Return<a class="headerlink" href="#return" title="Permalink to this heading"></a></h2>
<p>Success: Pointer to HTTP client connection handle</p>
<p>Error: NULL</p>
</section>
<section id="http-client-get">
<h2>http_client_get<a class="headerlink" href="#http-client-get" title="Permalink to this heading"></a></h2>
</section>
<section id="overview-1">
<span id="id1"></span><h2>Overview<a class="headerlink" href="#overview-1" title="Permalink to this heading"></a></h2>
<p>This function is used for performing HTTP GET. The HTTP response is
provided through the call back. The call back is called multiple times
until the whole response is received.</p>
</section>
<section id="definition-1">
<span id="id2"></span><h2>Definition<a class="headerlink" href="#definition-1" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id21">
<caption><span class="caption-text">Table : http_client_post - parameters</span><a class="headerlink" href="#id21" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>int</p>
<p>http_client_get(http_client_handle_t handle, char *uri,
http_client_resp_cb cb, void *cb_ctx, int time_out)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters-1">
<span id="id3"></span><h2>Parameters<a class="headerlink" href="#parameters-1" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id22">
<caption><span class="caption-text">Table : http_client_set_req_hdr - parameters</span><a class="headerlink" href="#id22" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Par
ameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>handle</em></p></td>
<td><p>Handle returned by http_client_open()</p></td>
</tr>
<tr class="row-odd"><td><p><em>uri</em></p></td>
<td><p>HTTP URI to GET</p></td>
</tr>
<tr class="row-even"><td><p><em>cb</em></p></td>
<td><p>User application callback to be called when response is
received from the server</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-1">
<span id="id4"></span><h2>Return<a class="headerlink" href="#return-1" title="Permalink to this heading"></a></h2>
<p>Success: 0</p>
<p>Error: -1</p>
</section>
<section id="http-client-post">
<h2>http_client_post<a class="headerlink" href="#http-client-post" title="Permalink to this heading"></a></h2>
</section>
<section id="overview-2">
<span id="id5"></span><h2>Overview<a class="headerlink" href="#overview-2" title="Permalink to this heading"></a></h2>
<p>This function is used to perform HTTP POST. Using this data can be sent
to the HTTP server. The response is provided using the call back.
Setting content length header is a must using http_client_set_req_hdr
before calling this API.</p>
</section>
<section id="definition-2">
<span id="id6"></span><h2>Definition<a class="headerlink" href="#definition-2" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id23">
<caption><span class="caption-text">Table : http_client_close - parameters</span><a class="headerlink" href="#id23" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>int</p>
<p>http_client_post(http_client_handle_t handle, char *uri,</p>
<p>char *buff, int buff_len,</p>
<p>http_client_resp_cb cb, void *cb_ctx,</p>
<p>int time_out)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters-2">
<span id="id7"></span><h2>Parameters<a class="headerlink" href="#parameters-2" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Pa
rameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>handle</em></p></td>
<td><p>Handle returned by http_client_open()</p></td>
</tr>
<tr class="row-odd"><td><p><em>uri</em></p></td>
<td><p>HTTP URI to POST</p></td>
</tr>
<tr class="row-even"><td><p><em>buff</em></p></td>
<td><p>Buffer having data to be sent to server</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
<p>buff_len*</p>
</td>
<td><p>Length of the data present in the buff. This is the
length of the data to be POSTed</p></td>
</tr>
<tr class="row-even"><td><p><em>cb</em></p></td>
<td><p>User application callback to be called when response is
received from the server</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-2">
<span id="id8"></span><h2>Return<a class="headerlink" href="#return-2" title="Permalink to this heading"></a></h2>
<p>Success: 0</p>
<p>Error: -1</p>
</section>
<section id="http-client-set-req-hdr">
<h2>http_client_set_req_hdr<a class="headerlink" href="#http-client-set-req-hdr" title="Permalink to this heading"></a></h2>
</section>
<section id="overview-3">
<span id="id9"></span><h2>Overview<a class="headerlink" href="#overview-3" title="Permalink to this heading"></a></h2>
<p>User application can set the header to be sent with GET/POST request
using this API.</p>
</section>
<section id="definition-3">
<span id="id10"></span><h2>Definition<a class="headerlink" href="#definition-3" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>int</p>
<p>http_client_set_req_hdr(http_client_handle_t handle,</p>
<p>const char *hdrname, const char *hdrval)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters-3">
<span id="id11"></span><h2>Parameters<a class="headerlink" href="#parameters-3" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Par
ameters</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>handle</em></p></td>
<td><p>HTTP connection handle</p></td>
</tr>
<tr class="row-odd"><td><p><em>hdrname</em></p></td>
<td><p>Name part of the header. For example: “content length”</p></td>
</tr>
<tr class="row-even"><td><p><em>hdrval</em></p></td>
<td><p>Value part of the header. For example: “1024”</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-3">
<span id="id12"></span><h2>Return<a class="headerlink" href="#return-3" title="Permalink to this heading"></a></h2>
<p>Success: 0</p>
<p>Error: -1</p>
</section>
<section id="http-client-close">
<h2>http_client_close<a class="headerlink" href="#http-client-close" title="Permalink to this heading"></a></h2>
</section>
<section id="overview-4">
<span id="id13"></span><h2>Overview<a class="headerlink" href="#overview-4" title="Permalink to this heading"></a></h2>
<p>This API is used for closing the connection.</p>
</section>
<section id="definition-4">
<span id="id14"></span><h2>Definition<a class="headerlink" href="#definition-4" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>int</p>
<p>http_client_close(http_client_handle_t handle)</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="parameters-4">
<span id="id15"></span><h2>Parameters<a class="headerlink" href="#parameters-4" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Pa
rameter</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>handle</em></p></td>
<td><p>HTTP connection handle</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-4">
<span id="id16"></span><h2>Return<a class="headerlink" href="#return-4" title="Permalink to this heading"></a></h2>
<p>Success: 0</p>
<p>Error: -1</p>
</section>
<section id="application-example">
<h2>Application Example<a class="headerlink" href="#application-example" title="Permalink to this heading"></a></h2>
<p>For the example code, refer: <em>examples/http_client application</em>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fota_apiref.html" class="btn btn-neutral float-left" title="FirmWare Over The Air" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mdns_apiref.html" class="btn btn-neutral float-right" title="mdns" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>