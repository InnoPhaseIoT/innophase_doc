<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Network protocols &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../../../about.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Application Protocol and Data Transfer" href="4.%20Application%20Protocol%20and%20Data%20Transfer.html" />
    <link rel="prev" title="Wireless Operations" href="2.%20Wireless%20Operations.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Getting%20Started/Getting%20Started%20-%20Landing%20Page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Hardware%20Reference/Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html">Software Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#libraries">Libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#solutions">Solutions</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../ATCommands_Landing_Page.html">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ATCommands_Landing_Page.html#set-up-and-usage">Set-up and Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ATCommands_Landing_Page.html#at-commands">AT Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ATCommands_Landing_Page.html#commands-response-description">Commands response Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ATCommands_Landing_Page.html#fota-configuration-and-environment-set-up">FOTA Configuration and Environment Set-up</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../ATCommands_Landing_Page.html#usecases">UseCases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#stw-multi-proto">STW Multi-Proto</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#dual-stack">Dual stack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#cloud-frameworks">Cloud Frameworks</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Development%20Environments/Development%20Environments%20-%20Landing%20Page.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Tools/Tools-landing%20page.html">Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Applications/Applications%20-%20Landing%20Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Regulatory%20Notices/Regulatory%20Notices.html">Regulatory Notices</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Porting%20Guide/Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support/Support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Disclaimers/Disclaimers.html">Disclaimer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Appendix/Appendix-Landing_Page.html">Appendix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../Software_Reference_Landing_Page.html">Software Reference</a></li>
          <li class="breadcrumb-item"><a href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a></li>
          <li class="breadcrumb-item"><a href="../ATCommands_Landing_Page.html">Prerequisites</a></li>
      <li class="breadcrumb-item active">Network protocols</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/Software Reference/3. Solutions/1. AT Commands/6. UseCases/3. Network Protocol.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="network-protocols">
<h1>Network protocols<a class="headerlink" href="#network-protocols" title="Permalink to this heading"></a></h1>
<section id="static-ip-configuration">
<h2>Static IP Configuration<a class="headerlink" href="#static-ip-configuration" title="Permalink to this heading"></a></h2>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate configuring static IP to the Talaria TWO
module. IP address can be assigned to the module in two ways, DHCP based
and Static IP configuration.</p>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<p>Access Point configured with WPA/WPA2 personal security.</p>
</section>
<section id="at-command-sequence">
<h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id60">
<caption><span class="caption-text">Table 12: Static IP Configuration - AT Commands</span><a class="headerlink" href="#id60" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+
wcfgset</em></p></td>
<td><p>Set WLAN Configuration</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to WLAN Network as a Station</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection is successful</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink to this heading"></a></h2>
<p>Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default" id="id61">
<caption><span class="caption-text">Table 13: Ping and Reset Functionality - AT Commands</span><a class="headerlink" href="#id61" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcfgset=1,192.168.1.8,255.255.255.0,192.168.1.8,8.8.8.8</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log">
<h2>Serial Log<a class="headerlink" href="#serial-log" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="../../../../_images/image158.png"><img alt="Text Description automatically generated" src="../../../../_images/image158.png" style="width: 7.48031in; height: 3.89762in;" /></a></p>
<p>Figure 42: Static IP Configuration – Serial log</p>
</section>
<section id="ping-and-reset-functionality">
<h2>Ping and Reset Functionality<a class="headerlink" href="#ping-and-reset-functionality" title="Permalink to this heading"></a></h2>
</section>
<section id="description-1">
<span id="id1"></span><h2>Description<a class="headerlink" href="#description-1" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate generic operations like getting firmware
version, setting system name, ping operation, and software reset.</p>
</section>
<section id="prerequisites-1">
<span id="id2"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-1" title="Permalink to this heading"></a></h2>
<p>Access Point configured with WPA/WPA2 personal security.</p>
</section>
<section id="at-command-sequence-1">
<span id="id3"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-1" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id62">
<caption><span class="caption-text">Table 14: TCP Server - AT Commands</span><a class="headerlink" href="#id62" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+ver</em></p></td>
<td><p>Get software version</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
<p>at+wstatus*</p>
</td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
<p>at+sysname*</p>
</td>
<td><p>Set system name</p></td>
</tr>
<tr class="row-even"><td><p><em>at+nping</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+reset</em></p></td>
<td><p>Reset the device</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-1">
<span id="id4"></span><h2>Procedure<a class="headerlink" href="#procedure-1" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image1" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<p>Figure 43: Connecting to AP</p>
<p><strong>Step 2</strong>: Check the IP address of the Windows laptop using ipconfig
command.</p>
<p><a class="reference internal" href="../../../../_images/image415.png"><img alt="image2" src="../../../../_images/image415.png" style="width: 7.48031in; height: 3.37856in;" /></a></p>
<p>Figure 44: Checking IP address</p>
<p><strong>Step 3</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default" id="id63">
<caption><span class="caption-text">Table 15: TCP Client - AT Commands</span><a class="headerlink" href="#id63" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+ver</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+nping=192.168.1.5</p>
<p>at+reset</p>
<p>at+wstatus=0</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-1">
<span id="id5"></span><h2>Serial Log<a class="headerlink" href="#serial-log-1" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="../../../../_images/image516.png"><img alt="image3" src="../../../../_images/image516.png" style="width: 7.48031in; height: 5.0487in;" /></a></p>
<p>Figure 45: Ping and Reset Functionality - Serial log</p>
</section>
<section id="application-protocol-and-data-transfer">
<h2>Application Protocol and Data Transfer<a class="headerlink" href="#application-protocol-and-data-transfer" title="Permalink to this heading"></a></h2>
</section>
<section id="tcp-server">
<h2>TCP Server<a class="headerlink" href="#tcp-server" title="Permalink to this heading"></a></h2>
</section>
<section id="description-2">
<span id="id6"></span><h2>Description<a class="headerlink" href="#description-2" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate creating TCP server socket and TCP data
communication over the created socket.</p>
</section>
<section id="prerequisites-2">
<span id="id7"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-2" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>Hercules tool to create TCP client in Windows laptop.</p></li>
</ol>
</section>
<section id="at-command-sequence-2">
<span id="id8"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-2" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id64">
<caption><span class="caption-text">Table 16: UDP Server - AT Commands</span><a class="headerlink" href="#id64" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
<p>at+socsrv*</p>
</td>
<td><p>Start TCP server</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+socsend</em></p></td>
<td><p>Send data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-2">
<span id="id9"></span><h2>Procedure<a class="headerlink" href="#procedure-2" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default" id="id65">
<caption><span class="caption-text">Table 17: UDP Client – AT Commands</span><a class="headerlink" href="#id65" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+socsrv=0,0,0,9000</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../../../_images/image613.png"><img alt="image4" src="../../../../_images/image613.png" style="width: 7.48031in; height: 2.37106in;" /></a></p>
<p>Figure 46: TCP Server – Serial log</p>
<p><strong>Step 2</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image5" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<p>Figure 47: Connecting to AP</p>
<p><strong>Step 3</strong>: Start TCP client using Hercules and connect to Talaria TWO
TCP server.</p>
<p><a class="reference internal" href="../../../../_images/image712.png"><img alt="Graphical user interface, text, application, email Description automatically generated" src="../../../../_images/image712.png" style="width: 5.51181in; height: 4.82421in;" /></a></p>
<p>Figure 48: Starting TCP client</p>
<p><strong>Step 4</strong>: Log for data communication between application endpoints.</p>
<p><strong>Note</strong>: Send data from Talaria TWO using command
at+socsend=1,ASCII,5,Hello.</p>
<p><a class="reference internal" href="../../../../_images/image811.png"><img alt="Graphical user interface, text, application, chat or text message Description automatically generated" src="../../../../_images/image811.png" style="width: 6.29921in; height: 3.71379in;" /></a></p>
<p>Figure 49: Log for data communication between application endpoints –
Tera Term</p>
<p><a class="reference internal" href="../../../../_images/image811.png"><img alt="image6" src="../../../../_images/image811.png" style="width: 6.29921in; height: 3.85857in;" /></a></p>
<p>Figure 50: Log for data communication between application endpoints -
Hercules</p>
</section>
<section id="tcp-client">
<h2>TCP Client<a class="headerlink" href="#tcp-client" title="Permalink to this heading"></a></h2>
</section>
<section id="description-3">
<span id="id10"></span><h2>Description<a class="headerlink" href="#description-3" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate creating TCP client socket and TCP data
communication over the created socket.</p>
</section>
<section id="prerequisites-3">
<span id="id11"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-3" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>Any network tool (Hercules tool in this example) to be used to create
TCP server in Windows/Linux laptop.</p></li>
</ol>
</section>
<section id="at-command-sequence-3">
<span id="id12"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-3" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id66">
<caption><span class="caption-text">Table 18: HTTP Client (non-secured) - AT Commands</span><a class="headerlink" href="#id66" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
<p>at+soccli*</p>
</td>
<td><p>Create TCP client socket</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+socsend</em></p></td>
<td><p>Send data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-3">
<span id="id13"></span><h2>Procedure<a class="headerlink" href="#procedure-3" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image7" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<p>Figure 51: Connecting to AP</p>
<p><strong>Step 2</strong>: Using Hercules tool create TCP server socket.</p>
<p><a class="reference internal" href="../../../../_images/image911.png"><img alt="Graphical user interface, application Description automatically generated" src="../../../../_images/image911.png" style="width: 5.51181in; height: 4.80772in;" /></a></p>
<p>Figure 52: Creating TCP server socket</p>
<p><strong>Step 3</strong>: Get IP address of the server/laptop using the command
ipconfig.</p>
<p><a class="reference internal" href="../../../../_images/image1011.png"><img alt="image8" src="../../../../_images/image1011.png" style="width: 7.48031in; height: 3.44512in;" /></a></p>
<p>Figure 53: Getting the IP address</p>
<p><strong>Step 4</strong>: Execute the following commands on Talaria TWO:</p>
<p>validation) - AT Commands</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+soccli=0,0,0,8000,192.168.1.5</p>
<p>at+socsend=0,ASCII,12,Hello Server</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Step 5</strong>: Data communication between the application endpoints.</p>
<p><a class="reference internal" href="../../../../_images/image1116.png"><img alt="image9" src="../../../../_images/image1116.png" style="width: 7.48031in; height: 3.75291in;" /></a></p>
<p>Figure 54: Data communication – Tera Term</p>
<p><a class="reference internal" href="../../../../_images/image1116.png"><img alt="image10" src="../../../../_images/image1116.png" style="width: 5.90551in; height: 5.64058in;" /></a></p>
<p>Figure 55: Data communication - Hercules</p>
</section>
<section id="udp-server">
<h2>UDP Server<a class="headerlink" href="#udp-server" title="Permalink to this heading"></a></h2>
</section>
<section id="description-4">
<span id="id14"></span><h2>Description<a class="headerlink" href="#description-4" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate creating UDP server socket and UDP data
communication over the created socket.</p>
</section>
<section id="prerequisites-4">
<span id="id15"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-4" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>Hercules tool to create UDP client in Windows laptop.</p></li>
</ol>
</section>
<section id="at-command-sequence-4">
<span id="id16"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-4" title="Permalink to this heading"></a></h2>
<p>validation) – AT Commands</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
<p>at+wstatus*</p>
</td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+socsrv</em></p></td>
<td><p>Start UDP server</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+soccli</em></p></td>
<td><p>Start UDP client</p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li></li>
</ul>
<p>at+socsend*</p>
</td>
<td><p>Send data</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="procedure-4">
<span id="id17"></span><h2>Procedure<a class="headerlink" href="#procedure-4" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point InnoPhase to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image11" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image1214.png"><img alt="image12" src="../../../../_images/image1214.png" style="width: 3.14961in; height: 5.25593in;" /></a></p>
<p>Figure 56: Connecting to AP</p>
<p><strong>Step 2</strong>: Start UDP client using Hercules and connect to Talaria TWO
UDP server of IP address 192.168.1.2 and port 9000.</p>
<p><a class="reference internal" href="../../../../_images/image1311.png"><img alt="image13" src="../../../../_images/image1311.png" style="width: 4.72441in; height: 4.14591in;" /></a></p>
<p>Figure 57: Starting UDP Client</p>
<p><strong>Step 3</strong>: Get IP address of the server/laptop using the command
ipconfig.</p>
<p><a class="reference internal" href="../../../../_images/image1411.png"><img alt="image14" src="../../../../_images/image1411.png" style="width: 7.08661in; height: 3.15095in;" /></a></p>
<p>Figure 58: ipconfig output</p>
<p><strong>Step 4</strong>: Execute the following commands to associate to an Access
Point. Start the UDP server. Start the UDP client.</p>
<p>UDP server socket can only receive data, hence a client socket should be
created if data needs to be sent.</p>
<table class="docutils align-default" id="id67">
<caption><span class="caption-text">Table 21: MQTT Client - AT Commands</span><a class="headerlink" href="#id67" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070 at+wstatus=0</p>
<p>at+socsrv=0,1,1,9000</p>
<p>at+soccli=0,1,1,9000,192.168.1.6</p>
<p>at+socsend=1,ASCII,5,HELLO</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Step 5</strong>: Data communication between two application endpoints.</p>
<p><a class="reference internal" href="../../../../_images/image159.png"><img alt="image15" src="../../../../_images/image159.png" style="width: 7.48031in; height: 4.34277in;" /></a></p>
<p>Figure 59: Data communication – Tera Term</p>
<p><a class="reference internal" href="../../../../_images/image168.png"><img alt="image16" src="../../../../_images/image168.png" style="width: 5.90551in; height: 5.19685in;" /></a></p>
<p>Figure 60: Data communication - Hercules</p>
</section>
<section id="udp-client">
<h2>UDP Client<a class="headerlink" href="#udp-client" title="Permalink to this heading"></a></h2>
</section>
<section id="description-5">
<span id="id18"></span><h2>Description<a class="headerlink" href="#description-5" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate creating TCP client socket and TCP data
communication over the created socket.</p>
</section>
<section id="prerequisites-5">
<span id="id19"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-5" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>Any network tool (Hercules tool in this example) to be used to create
UDP server in Windows/Linux laptop.</p></li>
</ol>
</section>
<section id="at-command-sequence-5">
<span id="id20"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-5" title="Permalink to this heading"></a></h2>
<table class="docutils align-default" id="id68">
<caption><span class="caption-text">Table 22: Secure MQTT - AT Commands</span><a class="headerlink" href="#id68" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of T2 to verify the connection(L2+L3)
is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+soccli</em></p></td>
<td><p>Create UDP client socket</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+socsend</em></p></td>
<td><p>Send data</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-5">
<span id="id21"></span><h2>Procedure<a class="headerlink" href="#procedure-5" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image17" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<p>Figure 61: Connecting to AP</p>
<p><strong>Step 2</strong>: Using Hercules tool create UDP socket.</p>
<p><a class="reference internal" href="../../../../_images/image177.png"><img alt="image18" src="../../../../_images/image177.png" style="width: 5.90551in; height: 5.17486in;" /></a></p>
<p>Figure 62: Creating TCP server socket</p>
<p><strong>Step 3</strong>: Get IP address of the server/laptop using the command
ipconfig.</p>
<p><a class="reference internal" href="../../../../_images/image187.png"><img alt="image19" src="../../../../_images/image187.png" style="width: 1.49167in; height: 0.27014in;" /></a><a class="reference internal" href="../../../../_images/image196.png"><img alt="image20" src="../../../../_images/image196.png" style="width: 7.48031in; height: 3.97424in;" /></a></p>
<p>Figure 63: Getting the IP address</p>
<p><strong>Step 4</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default" id="id69">
<caption><span class="caption-text">Table 23: DNS Lookup – Get host IP by name - AT Commands</span><a class="headerlink" href="#id69" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+soccli=0,1,1,8000,192.168.1.6</p>
<p>at+socsend=0,ASCII,12,Hi InnoPhase</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Step 5</strong>: Data communication between the application endpoints.</p>
<p><a class="reference internal" href="../../../../_images/image207.png"><img alt="Graphical user interface, text, application Description automatically generated" src="../../../../_images/image207.png" style="width: 7.08661in; height: 3.56599in;" /></a></p>
<p>Figure 64: Data communication – Tera Term</p>
<p><a class="reference internal" href="../../../../_images/image207.png"><img alt="image21" src="../../../../_images/image207.png" style="width: 4.72441in; height: 4.14882in;" /></a></p>
<p>Figure 65: Data communication – Hercules</p>
</section>
<section id="http-client">
<h2>HTTP Client<a class="headerlink" href="#http-client" title="Permalink to this heading"></a></h2>
</section>
<section id="non-secured-http-client">
<h2>Non-Secured HTTP Client<a class="headerlink" href="#non-secured-http-client" title="Permalink to this heading"></a></h2>
<section id="description-6">
<span id="id22"></span><h3>Description<a class="headerlink" href="#description-6" title="Permalink to this heading"></a></h3>
<p>This use case is to demonstrate HTTP client and perform GET/POST
operations.</p>
</section>
<section id="prerequisites-6">
<span id="id23"></span><h3>Prerequisites<a class="headerlink" href="#prerequisites-6" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>HFS tool to start local HTTP server.</p></li>
</ol>
</section>
<section id="at-command-sequence-6">
<span id="id24"></span><h3>AT Command Sequence<a class="headerlink" href="#at-command-sequence-6" title="Permalink to this heading"></a></h3>
<table class="docutils align-default" id="id70">
<caption><span class="caption-text">Table 24: Service Discovery using mDNS - AT Commands</span><a class="headerlink" href="#id70" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+hchdrset</em></p></td>
<td><p>Set HTTP client header</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+hcstart</em></p></td>
<td><p>Start HTTP Client</p></td>
</tr>
<tr class="row-even"><td><p><em>at+hcreqsnd</em></p></td>
<td><p>Send GET request from the HTTP client</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-6">
<span id="id25"></span><h3>Procedure<a class="headerlink" href="#procedure-6" title="Permalink to this heading"></a></h3>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image22" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<blockquote>
<div><p>Figure 66: Connecting to AP</p>
</div></blockquote>
<p><strong>Step 2</strong>: Start HFS server and add data.txt file into the data path,
as shown in Figure 67.</p>
<p><a class="reference internal" href="../../../../_images/image2111.png"><img alt="Graphical user interface, text, table Description automatically generated" src="../../../../_images/image2111.png" style="width: 5.51181in; height: 4.14182in;" /></a></p>
<p>Figure 67: Starting HFS server</p>
<p><strong>Step 3</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default" id="id71">
<caption><span class="caption-text">Table 25: Get Time from NTP Server - AT Commands</span><a class="headerlink" href="#id71" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+hchdrset=13,192.168.1.5</p>
<p>at+hcstart=192.168.1.5,80</p>
<p>at+hcreqsnd=0,1,/data.txt</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-2">
<span id="id26"></span><h3>Serial Log<a class="headerlink" href="#serial-log-2" title="Permalink to this heading"></a></h3>
<p><a class="reference internal" href="../../../../_images/image2210.png"><img alt="image23" src="../../../../_images/image2210.png" style="width: 7.48031in; height: 3.91585in;" /></a></p>
<p>Figure 68: HTTP Client (non-secured) - Serial Log</p>
</section>
</section>
<section id="secured-http-client-without-server-certificate-validation">
<h2>Secured HTTP Client without Server Certificate Validation<a class="headerlink" href="#secured-http-client-without-server-certificate-validation" title="Permalink to this heading"></a></h2>
<section id="description-7">
<span id="id27"></span><h3>Description<a class="headerlink" href="#description-7" title="Permalink to this heading"></a></h3>
<p>This use case is to demonstrate secured HTTP client connection without
server certificate validation (time validation).</p>
</section>
<section id="prerequisites-7">
<span id="id28"></span><h3>Prerequisites<a class="headerlink" href="#prerequisites-7" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>HTTPs server.</p></li>
</ol>
</section>
<section id="at-command-sequence-7">
<span id="id29"></span><h3>AT Command Sequence<a class="headerlink" href="#at-command-sequence-7" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+hcstart</em></p></td>
<td><p>Start HTTP Client</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+hcclose</em></p></td>
<td><p>Close HTTP connection</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-7">
<span id="id30"></span><h3>Procedure<a class="headerlink" href="#procedure-7" title="Permalink to this heading"></a></h3>
<p><strong>Step 1:</strong> Ensure that the server is running before triggering
connection from Talaria TWO<strong>.</strong> In this example, httpbin.org server
is used for connecting to the secure port.</p>
<p><strong>Step 2:</strong> Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+hcstart=httpbin.org,443,1</p>
<p>at+hcclose=0</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-3">
<span id="id31"></span><h3>Serial Log<a class="headerlink" href="#serial-log-3" title="Permalink to this heading"></a></h3>
<p><a class="reference internal" href="../../../../_images/image238.png"><img alt="image24" src="../../../../_images/image238.png" style="width: 7.48031in; height: 3.98215in;" /></a></p>
<p>Figure 69: HTTP Client (secured without server certificate validation) -
Serial log</p>
</section>
</section>
<section id="secured-http-client-with-server-certificate-validation">
<h2>Secured HTTP Client (with Server Certificate Validation)<a class="headerlink" href="#secured-http-client-with-server-certificate-validation" title="Permalink to this heading"></a></h2>
<section id="description-8">
<span id="id32"></span><h3>Description<a class="headerlink" href="#description-8" title="Permalink to this heading"></a></h3>
<p>This use case is to demonstrate secured HTTP client connection with
server certificate validation (load CA certificate).</p>
</section>
<section id="prerequisites-8">
<span id="id33"></span><h3>Prerequisites<a class="headerlink" href="#prerequisites-8" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>HTTPs server.</p></li>
</ol>
</section>
<section id="at-command-sequence-8">
<span id="id34"></span><h3>AT Command Sequence<a class="headerlink" href="#at-command-sequence-8" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>At+certadd</em></p></td>
<td><p>To load certificate</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+hcstart</em></p></td>
<td><p>Start HTTP Client</p></td>
</tr>
<tr class="row-even"><td><p><em>at+hcclose</em></p></td>
<td><p>Close HTTP connection</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-8">
<span id="id35"></span><h3>Procedure<a class="headerlink" href="#procedure-8" title="Permalink to this heading"></a></h3>
<p><strong>Step 1:</strong> Ensure that the server is running and ready for any incoming
connection, before triggering the HTTP client connection from Talaria
TWO<strong>.</strong> In this example, httpbin.org server is used for connecting to
the secure port (443).</p>
<p><strong>Step 2:</strong> Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+certadd=httpbin-org-chain,4754</p>
<p>at+hcstart=httpbin.org,443,2,httpbin-org-chain</p>
<p>at+hcclose=0</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-4">
<span id="id36"></span><h3>Serial Log<a class="headerlink" href="#serial-log-4" title="Permalink to this heading"></a></h3>
<p><a class="reference internal" href="../../../../_images/image245.png"><img alt="image25" src="../../../../_images/image245.png" style="width: 7.48031in; height: 4.00536in;" /></a></p>
<p>Figure 70: HTTP Client (secured with server certificate validation) -
Serial log</p>
</section>
</section>
<section id="mqtt-client">
<h2>MQTT Client<a class="headerlink" href="#mqtt-client" title="Permalink to this heading"></a></h2>
</section>
<section id="description-9">
<span id="id37"></span><h2>Description<a class="headerlink" href="#description-9" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate MQTT client and data communication using
Publish and Subscribe methods.</p>
</section>
<section id="prerequisites-9">
<span id="id38"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-9" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with WPA/WPA2 personal security.</p></li>
<li><p>MQTT.fx tool to start another MQTT client to perform
Publish/Subscribe b/w two clients.</p></li>
</ol>
</section>
<section id="at-command-sequence-9">
<span id="id39"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-9" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+mqttconf</em></p></td>
<td><p>Set MQTT configurations</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+mqttconn</em></p></td>
<td><p>Connect to MQTT Broker</p></td>
</tr>
<tr class="row-even"><td><p><em>at+mqttpub</em></p></td>
<td><p>Publish the MQTT topic with Payload</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+mqttsub</em></p></td>
<td><p>Subscribe to the MQTT topic</p></td>
</tr>
<tr class="row-even"><td><p><em>at
+mqttdisconn</em></p></td>
<td><p>Disconnect MQTT client connection</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-9">
<span id="id40"></span><h2>Procedure<a class="headerlink" href="#procedure-9" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image237.png"><img alt="image26" src="../../../../_images/image237.png" style="width: 0.64172in; height: 0.30836in;" /></a><a class="reference internal" href="../../../../_images/image320.png"><img alt="Graphical user interface, text Description automatically generated" src="../../../../_images/image320.png" style="width: 3.14961in; height: 5.28344in;" /></a></p>
<p>Figure 71: Connecting to AP</p>
<p><strong>Step 2</strong>: Start another MQTT client in the PC using MQTT.fx tool to
send data to Talaria TWO using Publish method and receive data sent from
Talaria TWO using Subscribe method.</p>
<p>Configure the following settings from MQTT.fx to configure MQTT
parameters for the public broker mqtt.eclipseprojects.io.Click on the
settings button:</p>
<p><a class="reference internal" href="../../../../_images/image255.png"><img alt="Graphical user interface, text, application, Word Description automatically generated" src="../../../../_images/image255.png" style="width: 7.48031in; height: 5.61397in;" /></a></p>
<p>Figure 72: MQTT.fx – settings</p>
<p><a class="reference internal" href="../../../../_images/image265.png"><img alt="image27" src="../../../../_images/image265.png" style="width: 7.48031in; height: 5.43661in;" /></a></p>
<p>Figure 73: MQTT.fx - Connection Profile</p>
<p><strong>Note</strong>: Ensure the client ID is unique to the device.</p>
<p><strong>Step 3</strong>: Click on Connect and check the green color button for
successful connection.</p>
<p><strong>Step 4</strong>: Click on Subscribe and enter topic as PUBMSG to receive any
data sent from Talaria TWO MQTT client.</p>
<p><a class="reference internal" href="../../../../_images/image275.png"><img alt="image28" src="../../../../_images/image275.png" style="width: 7.48031in; height: 2.54427in;" /></a></p>
<p>Figure 74: MQTT.fx – Subscribe</p>
<p><strong>Step 5</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+mqttconf=clientid,12345678</p>
<p>at+mqttconf=admin,admin</p>
<p>at+mqttconf=password,xyz</p>
<p>at+mqttconn=mqtt.eclipseprojects.io,1883</p>
<p>at+mqttpub=0,PUBMSG,0,5,Hello</p>
<p>at+mqttsub=0,SUBMSG,0</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../../../_images/image285.png"><img alt="image29" src="../../../../_images/image285.png" style="width: 7.48031in; height: 3.90259in;" /></a></p>
<p>Figure 75: MQTT Client - Serial log</p>
<p><strong>Step 6</strong>: Click on Publish and enter topic as SUBMSG to send the data
to Talaria TWO MQTT client.</p>
<p><a class="reference internal" href="../../../../_images/image293.png"><img alt="image30" src="../../../../_images/image293.png" style="width: 7.48031in; height: 2.59068in;" /></a></p>
<p>Figure 76: MQTT.fx – Publish</p>
<p><strong>Step 7</strong>: Data communication between two application end points.</p>
<p><a class="reference internal" href="../../../../_images/image303.png"><img alt="image31" src="../../../../_images/image303.png" style="width: 7.48031in; height: 3.41114in;" /></a></p>
<p>Figure 77: Data communication</p>
</section>
<section id="secure-mqtt">
<h2>Secure MQTT<a class="headerlink" href="#secure-mqtt" title="Permalink to this heading"></a></h2>
</section>
<section id="description-10">
<span id="id41"></span><h2>Description<a class="headerlink" href="#description-10" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate MQTT client connection over secured
layer(SSL/TLS).</p>
</section>
<section id="prerequisites-10">
<span id="id42"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-10" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Secure MQTT broker with client certificates- Root CA, Client cert and
client private key</p></li>
<li><p>Mosquito tool for windows</p></li>
</ol>
</section>
<section id="procedure-10">
<span id="id43"></span><h2>Procedure<a class="headerlink" href="#procedure-10" title="Permalink to this heading"></a></h2>
<p>Following are the two methods to load the certificate to the filesystem.
Use any one of them to add the certificates:</p>
<ol class="arabic simple">
<li><p><strong>Using Download tool</strong>: Write the certificates to Talaria TWO’s
FLASH using the Download tool.</p></li>
</ol>
<p>For more information on writing certificates, refer section: <em>Show File
System Contents -&gt; Write Files</em> of the document: UG_Download_Tool.pdf
(<em>freertos_sdk_x.y\pc_tools\Download_Tool\doc)</em>.</p>
<p><strong>Note</strong>: x and y in freertos_sdk_x.y refer to the SDK release version.</p>
<ol class="arabic simple" start="2">
<li><p>Using AT Commands: The AT command will load the certificates on to
the Talaria TWO’s RAM.</p>
<ol class="loweralpha simple">
<li><p>Issue the below commands to load the certificates:</p></li>
</ol>
</li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at+certadd=&lt;cert name&gt;,&lt;cert length&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<ol class="loweralpha simple" start="2">
<li><p>Once the command is issued, Talaria TWO will send “&lt;” as response to
the command:</p></li>
</ol>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image3110.png"><img alt="Shape, rectangle Description automatically generated" src="../../../../_images/image3110.png" style="width: 6.49606in; height: 1.03387in;" /></a></p>
</div></blockquote>
<p>Figure 78: Command Validation</p>
<ol class="loweralpha simple" start="3">
<li><p>Send the certificate after receiving the command response (&lt;).</p></li>
<li><p>Go to File -&gt; Send file… from the Tera Term and browse the
certificates</p></li>
</ol>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image322.png"><img alt="image32" src="../../../../_images/image322.png" style="width: 6.49606in; height: 4.69706in;" /></a></p>
</div></blockquote>
<p>Figure 79: Send Certificate</p>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image332.png"><img alt="image33" src="../../../../_images/image332.png" style="width: 6.49606in; height: 2.78269in;" /></a></p>
</div></blockquote>
<p>Figure 80: Browse to add the Certificates</p>
<ol class="loweralpha simple" start="5">
<li><p>Execute this step to add all three certificates:</p></li>
</ol>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image342.png"><img alt="Text Description automatically generated with medium confidence" src="../../../../_images/image342.png" style="width: 6.49606in; height: 1.48467in;" /></a></p>
</div></blockquote>
<p>Figure 81: AT Commands- To add the certificate</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+certadd=mqtt_root_ca,1452</p>
<p>at+certadd=mqtt_device_cert,1330</p>
<p>at+certadd=client.key,1679</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="at-command-sequence-10">
<span id="id44"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-10" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>To check the connection state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+certadd</em></p></td>
<td><p>To load the certificate</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>To connect to a secured access point</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+mqttconf</em></p></td>
<td><p>Set MQTT configurations</p></td>
</tr>
<tr class="row-even"><td><p><em>at+mqttconn</em></p></td>
<td><p>Connect to MQTT broker</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+mqttsub</em></p></td>
<td><p>Subscribe to a MQTT topic</p></td>
</tr>
<tr class="row-even"><td><p><em>at+mqttpub</em></p></td>
<td><p>Publish the MQTT topic with Payload</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-11">
<span id="id45"></span><h2>Procedure<a class="headerlink" href="#procedure-11" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at+wcon=InnoPhase,43083191</p>
<p>at+mqttconf=clientid,789012</p>
<p>at+mqttconf=username,innophase</p>
<p>at+mqttconf=password,123</p>
<p>at+mqttconf=kainterval,10</p>
<p>at+mqttconn=test.mosquitto.org,8884,1,1
,/data/mqtt_root_ca.crt,/,/data/mqtt_device_cert.crt,/data/client.key</p>
<p>at+mqttsub=0,inno/test,0</p>
<p>at+mqttpub=0,inno/test,0,5,hello</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../../../_images/image352.png"><img alt="image34" src="../../../../_images/image352.png" style="width: 7.48031in; height: 2.49344in;" /></a></p>
<p>Figure 82: Secure MQTT- serial log</p>
<p><strong>Step 2</strong>: To observe Publish messages and to Subscribe any message,
execute the following commands on the command prompt:</p>
<ol class="arabic simple">
<li><p>To publish:</p>
<ol class="loweralpha simple">
<li><p>Start a mosquito server to subscribe to inno/test topic:</p></li>
</ol>
</li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>mosquitto_sub.exe -h test.mosquitto.org -P 8884 -u innophase -P 123
-t inno/test</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image362.png"><img alt="image35" src="../../../../_images/image362.png" style="width: 6.29921in; height: 1.46864in;" /></a></p>
</div></blockquote>
<p>Figure 83: Command Prompt Output (Publish message)</p>
<ol class="loweralpha simple" start="2">
<li><p>Issue the following command to publish message to the subscribed
topic from the serial terminal:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at+mqttpub=0,inno/test,0,5,hello</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image372.png"><img alt="image36" src="../../../../_images/image372.png" style="width: 6.29921in; height: 0.29098in;" /></a></p>
</div></blockquote>
<p>Figure 84: To publish</p>
<ol class="arabic simple" start="2">
<li><p>To subscribe</p>
<ol class="loweralpha simple">
<li><p>Start a mosquito server to publish to inno/test topic:</p></li>
</ol>
</li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>mosquitto_pub.exe -h test.mosquitto.org -P 8884 -u innophase -P 123
-t inno/test -m “Hii Innophase”</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image382.png"><img alt="image37" src="../../../../_images/image382.png" style="width: 6.29921in; height: 0.68122in;" /></a></p>
</div></blockquote>
<p>Figure 85: Command Prompt Output (Subscribe message)</p>
<ol class="loweralpha simple" start="2">
<li><p>Issue the following command to subscribe to inno/test topic on the
serial terminal and get the published message:</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at+mqttsub=0,inno/test,0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><a class="reference internal" href="../../../../_images/image392.png"><img alt="image38" src="../../../../_images/image392.png" style="width: 6.29921in; height: 0.83501in;" /></a></p>
</div></blockquote>
<p>Figure 86: To subscribe</p>
</section>
<section id="dns-lookup-get-host-ip-by-name">
<h2>DNS Lookup – Get host IP by name<a class="headerlink" href="#dns-lookup-get-host-ip-by-name" title="Permalink to this heading"></a></h2>
</section>
<section id="description-11">
<span id="id46"></span><h2>Description<a class="headerlink" href="#description-11" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate getting IP address from the host name.</p>
</section>
<section id="prerequisites-11">
<span id="id47"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-11" title="Permalink to this heading"></a></h2>
<p>Access Point configured with WPA/WPA2 personal security.</p>
</section>
<section id="at-command-sequence-11">
<span id="id48"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-11" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at
+nhostipget</em></p></td>
<td><p>Get host IP address by name</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-12">
<span id="id49"></span><h2>Procedure<a class="headerlink" href="#procedure-12" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+nhostipget</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-5">
<span id="id50"></span><h2>Serial Log<a class="headerlink" href="#serial-log-5" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="../../../../_images/image401.png"><img alt="image39" src="../../../../_images/image401.png" style="width: 7.48031in; height: 2.62119in;" /></a></p>
<p>Figure 87: DNS Lookup – Get host IP by name - Serial log</p>
</section>
<section id="service-discovery-using-mdns">
<h2>Service Discovery using mDNS<a class="headerlink" href="#service-discovery-using-mdns" title="Permalink to this heading"></a></h2>
</section>
<section id="description-12">
<span id="id51"></span><h2>Description<a class="headerlink" href="#description-12" title="Permalink to this heading"></a></h2>
<p>This module is used to start the mDNS procedure of the node with IPv4
network.</p>
<p>It supports following services:</p>
<ol class="arabic simple">
<li><p>mDNS Service Announce.</p></li>
<li><p>mDNS Service Discover.</p></li>
</ol>
</section>
<section id="prerequisites-12">
<span id="id52"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-12" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Access Point configured with any Wi-Fi security types (WPA/WPA2/WPA3
Personal/Enterprise protocols).</p></li>
<li><p>Bonjour Browser for windows OS or from a Windows command line, use
dns-sd command to browse for services that are being broadcast on the
local network by Talaria TWO.</p></li>
</ol>
</section>
<section id="at-command-sequence-12">
<span id="id53"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-12" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><ul class="simple">
<li></li>
</ul>
<p><em>Command*</em></p>
</th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan results</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at+
mdnsstart</em></p></td>
<td><p>Starts mDNS</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+mdnsreg</em></p></td>
<td><p>Register the mDNS service by passing the service
name,type,proto,port and the description</p></td>
</tr>
<tr class="row-even"><td><p><em>at
+mdnsdreg</em></p></td>
<td><p>De-Register mDNS Service by providing the service
Identifier that was captured when the registration was
done</p></td>
</tr>
<tr class="row-odd"><td><p><em>a
t+mdnstop</em></p></td>
<td><p>Stops mDNS</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-13">
<span id="id54"></span><h2>Procedure<a class="headerlink" href="#procedure-13" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Connect your laptop to the same access point “InnoPhase” to
which the Talaria TWO is connected.</p>
<p><a class="reference internal" href="../../../../_images/image416.png"><img alt="image40" src="../../../../_images/image416.png" style="width: 3.14961in; height: 5.09205in;" /></a></p>
<p>Figure 88: Connecting to an Access Point</p>
<p><strong>Step 2</strong>: Issue the following commands to advertise the services on
local network. Connect the Talaria TWO module to an AP of SSID
“InnoPhase” and passphrase “43083191”.</p>
<p>Check the WLAN status with at+wstatus command. Start the mDNS service
and register to service name “Inno_Provisioning“ of service type “TCP”
on port number 80 and “Provisioning” as service description.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,43083191</p>
<p>at+wstatus=0</p>
<p>at+mdnsstart</p>
<p>at+mdnsreg=Inno_Provisioning,_http,1,80,Provisioning</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Step 3</strong>: Start Bonjour Browser and Scan for the services that are
announced by Talaria TWO.</p>
<p><a class="reference internal" href="../../../../_images/image422.png"><img alt="image41" src="../../../../_images/image422.png" style="width: 3.14961in; height: 4.63583in;" /></a></p>
<p>Figure 89: Starting Bonjour Browser and Scanning for the services</p>
<p>Alternate way of Service discovery can be done from a Windows command
line, using the dns-sd command to browse for services that are being
broadcast on the local network by Talaria TWO.</p>
<p><a class="reference internal" href="../../../../_images/image432.png"><img alt="image42" src="../../../../_images/image432.png" style="width: 7.48031in; height: 2.23763in;" /></a></p>
<p>Figure 90: Service discovery from Windows command line</p>
<p>Serial Log:</p>
<p><a class="reference internal" href="../../../../_images/image442.png"><img alt="image43" src="../../../../_images/image442.png" style="width: 7.48031in; height: 3.33573in;" /></a></p>
<p>Figure 91: Service Discovery using mDNS - Serial log</p>
<p><strong>Step 3</strong>: De-register mDNS service, registered using command
AT+MDNSREG and stop the mDNS service using the following commands:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at+mdnsdreg=0</p>
<p>at+mdnsstop</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../../../../_images/image452.png"><img alt="image44" src="../../../../_images/image452.png" style="width: 7.48031in; height: 3.77414in;" /></a></p>
<p>Figure 92: De-registering from mDNS service</p>
</section>
<section id="get-time-from-ntp-server">
<h2>Get Time from NTP Server<a class="headerlink" href="#get-time-from-ntp-server" title="Permalink to this heading"></a></h2>
</section>
<section id="description-13">
<span id="id55"></span><h2>Description<a class="headerlink" href="#description-13" title="Permalink to this heading"></a></h2>
<p>This use case is to demonstrate getting time from the NTP server.</p>
</section>
<section id="prerequisites-13">
<span id="id56"></span><h2>Prerequisites<a class="headerlink" href="#prerequisites-13" title="Permalink to this heading"></a></h2>
<p>Access Point configured with WPA/WPA2 personal security.</p>
</section>
<section id="at-command-sequence-13">
<span id="id57"></span><h2>AT Command Sequence<a class="headerlink" href="#at-command-sequence-13" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>AT
Command</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>at</em></p></td>
<td><p>Check communication state</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wscan</em></p></td>
<td><p>Get list of available APs from the vicinity</p></td>
</tr>
<tr class="row-even"><td><p><em>at+wcon</em></p></td>
<td><p>Connect to a desired AP from the received scan
results</p></td>
</tr>
<tr class="row-odd"><td><p><em>at+wstatus</em></p></td>
<td><p>Get IP address of Talaria TWO to verify the
connection(L2+L3) is successful</p></td>
</tr>
<tr class="row-even"><td><p><em>at
+ntptimeget</em></p></td>
<td><p>Get time from NTP server</p></td>
</tr>
</tbody>
</table>
</section>
<section id="procedure-14">
<span id="id58"></span><h2>Procedure<a class="headerlink" href="#procedure-14" title="Permalink to this heading"></a></h2>
<p><strong>Step 1</strong>: Execute the following commands on Talaria TWO:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>at</p>
<p>at+wscan</p>
<p>at+wcon=InnoPhase,Inno&#64;9070</p>
<p>at+wstatus=0</p>
<p>at+ntptimeget</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="serial-log-6">
<span id="id59"></span><h2>Serial Log<a class="headerlink" href="#serial-log-6" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="../../../../_images/image462.png"><img alt="image45" src="../../../../_images/image462.png" style="width: 7.48031in; height: 3.90259in;" /></a></p>
<p>Figure 93: Get Time from NTP Server - Serial log</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2.%20Wireless%20Operations.html" class="btn btn-neutral float-left" title="Wireless Operations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="4.%20Application%20Protocol%20and%20Data%20Transfer.html" class="btn btn-neutral float-right" title="Application Protocol and Data Transfer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>