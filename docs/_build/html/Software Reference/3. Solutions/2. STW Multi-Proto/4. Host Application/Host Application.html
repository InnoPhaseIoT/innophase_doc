<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Host Application &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../../../about.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="STW Multi Proto Application" href="../5.%20STW%20Multi-Proto%20Application/STW%20Multi-Proto%20Application.html" />
    <link rel="prev" title="Building the Application" href="../3.%20Evaluating%20the%20Application/Evaluating%20the%20Application.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Getting%20Started/Getting%20Started%20-%20Landing%20Page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Hardware%20Reference/Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Porting%20Guide/Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Disclaimers/Disclaimers.html">Disclaimer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Appendix/Appendix-Landing_Page.html">Appendix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support/Support.html">Support</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html">Software Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#libraries">Libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#solutions">Solutions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#stw-multi-proto">STW Multi-Proto</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html">SMP Application Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html#build-environment">Build Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html#evaluating-the-application">Evaluating the Application</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html#host-application">Host Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../STW%20Multi-Proto%20-%20Landing%20Page.html#stw-multi-proto-application">STW Multi Proto Application</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#dual-stack">Dual stack</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#cloud-frameworks">Cloud Frameworks</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Development%20Environments/Development%20Environments%20-%20Landing%20Page.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Tools/Tools-landing%20page.html">Tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Applications/Applications%20-%20Landing%20Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Regulatory%20Notices/Regulatory%20Notices.html">FCC/ISED Regulatory Notices</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../Software_Reference_Landing_Page.html">Software Reference</a></li>
          <li class="breadcrumb-item"><a href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a></li>
          <li class="breadcrumb-item"><a href="../STW%20Multi-Proto%20-%20Landing%20Page.html">SMP Application Flow</a></li>
      <li class="breadcrumb-item active">Host Application</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/Software Reference/3. Solutions/2. STW Multi-Proto/4. Host Application/Host Application.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="host-application">
<h1>Host Application<a class="headerlink" href="#host-application" title="Permalink to this heading"></a></h1>
<p>The host application uses a library called HAPI (Host Application
Processor Interface) which is a portable library of ‘c’ functions that
wraps the HIO (Host Input/Output) data structs to send a request packet
and receive a response packet from the SMP application executing on
Talaria TWO.</p>
<p>There are three types of messages exchanged between the host and Talaria
TWO:</p>
<ol class="arabic simple">
<li><p>Request message from the host to Talaria TWO.</p></li>
<li><p>Response message from Talaria TWO to host.</p></li>
<li><p>Indication message from Talaria TWO to host.</p></li>
</ol>
<p>Subsequent section provides description of the HAPI library used by the
host application.</p>
<section id="hapi">
<h2>HAPI<a class="headerlink" href="#hapi" title="Permalink to this heading"></a></h2>
<p>The following block diagram provides an overview of the HAPI
architecture and the communication mechanism between the host
application (using the HAPI APIs and the SMP application running on
Talaria TWO.</p>
<p><a class="reference internal" href="../../../../_images/image1130.png"><img alt="Diagram Description automatically generated" src="../../../../_images/image1130.png" style="width: 3.93701in; height: 4.42702in;" /></a></p>
<p>Figure 5: Talaria TWO HAPI SW Stack</p>
<p>The host application follows a protocol to exchange the commands/data
with Talaria TWO’s SMP application. The HAPI layer contains the
following sub layers:</p>
<ol class="arabic simple">
<li><p>HIO transport layer: The HIO transport layer manages sending and
receiving the commands and data to and from the host.</p></li>
<li><p>HAPI Groups: The HAPI groups reside on the HIO transport layer and
provides the APIs to the host/user application. Each of these groups
provide APIs of a particular type depending on the functionality.</p></li>
</ol>
<blockquote>
<div><p>For example, Wi-Fi group provides Wi-Fi related APIs, BLE group
provides BLE related APIs etc.</p>
<p>Each of these groups have a unique GROUP ID. Each of the commands
sent from a given group will have a unique MSGID.</p>
<p>For example, The Wi-Fi group provides APIs to connect with a unique
MSGID and disconnect with another MSGID to an AP.</p>
<p>For every HAPI group in the host application, there is a
corresponding HIO group in the SMP application which receives the
request messages and sends a response message.</p>
<p>The user application calls the HAPI API and provides the required
payload through the arguments and the corresponding HAPI group will
generate a frame in the following format:</p>
<p><a class="reference internal" href="../../../../_images/image290.png"><img alt="Table Description automatically generated" src="../../../../_images/image290.png" style="width: 5.90551in; height: 1.21873in;" /></a></p>
</div></blockquote>
<p>Figure 6: Frame format of a request packet</p>
<p>Each frame will contain the following fields.</p>
<ol class="arabic simple">
<li><p>Length: Length of the frame excluding the length field.</p></li>
<li><p>Group ID: The unique group ID of a HAPI group.</p></li>
<li><p>MSGID: Message-ID corresponding to each of the commands.</p></li>
<li><p>TRXID: Number used by the host to sequence requests.</p></li>
<li><p>Payload: The information/data to be sent to Talaria TWO.</p></li>
</ol>
<p>The request frame generated by a HAPI group is sent to Talaria TWO by
the HIO transport layer. The receive thread of the transport layer
blocks until the response from the Talaria TWO is received. Upon
receiving the response, the receive thread unblocks and sends the
response to the user application.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../3.%20Evaluating%20the%20Application/Evaluating%20the%20Application.html" class="btn btn-neutral float-left" title="Building the Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../5.%20STW%20Multi-Proto%20Application/STW%20Multi-Proto%20Application.html" class="btn btn-neutral float-right" title="STW Multi Proto Application" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>