<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Key-Features &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../../../about.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Tunadapter" href="4.%20Tunadapter.html" />
    <link rel="prev" title="Dual Stack Package" href="2.%20Dual-Stack%20Packages.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Getting%20Started/Getting%20Started%20-%20Landing%20Page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Hardware%20Reference/Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html">Software Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#libraries">Libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#solutions">Solutions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#stw-multi-proto">STW Multi-Proto</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../Solutions%20-%20Landing%20Page.html#dual-stack">Dual stack</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../Dual-Stack%20-%20Landing%20Page.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Dual-Stack%20-%20Landing%20Page.html#connetion-manager">Connetion manager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Dual-Stack%20-%20Landing%20Page.html#inp3201-host">INP3201-HOST</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Software_Reference_Landing_Page.html#cloud-frameworks">Cloud Frameworks</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Development%20Environments/Development%20Environments%20-%20Landing%20Page.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Tools/Tools-landing%20page.html">Tool</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Applications/Applications%20-%20Landing%20Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Regulatory%20Notices/Regulatory%20Notices.html">Regulatory Notices</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Porting%20Guide/Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support/Support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Disclaimers/Disclaimers.html">Disclaimer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Appendix/Appendix-Landing_Page.html">Appendix</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../Software_Reference_Landing_Page.html">Software Reference</a></li>
          <li class="breadcrumb-item"><a href="../../Solutions%20-%20Landing%20Page.html">AT Commands</a></li>
          <li class="breadcrumb-item"><a href="../Dual-Stack%20-%20Landing%20Page.html">Overview</a></li>
      <li class="breadcrumb-item active">Key-Features</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/Software Reference/3. Solutions/3. Dual-Stack/1. Overview/3. Key Features.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="key-features">
<h1>Key-Features<a class="headerlink" href="#key-features" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>Dual-Stack solution provides the following system-level features, which
helps the user integrate it as a full IoT solution.</p>
<ol class="arabic simple">
<li><p>FOTA</p></li>
</ol>
<blockquote>
<div><p>FOTA provides the following:</p>
</div></blockquote>
<ol class="loweralpha simple">
<li><p>Facility to check for the availability of new upgrades on the WLAN
firmware</p></li>
<li><p>Securely download the image into flash</p></li>
<li><p>Check the validity of the downloaded image</p></li>
<li><p>Set the new image as the boot image.</p></li>
</ol>
<blockquote>
<div><p>In conjunction with SSBL, it enables booting the latest downloaded
image. The firmware is downloaded into application image partition in
flash.</p>
<p>FOTA can be extended to support the upgradation of the host
application. This helps achieve complete product solution.</p>
<p>The solution also supports serial FOTA, in which the host can upgrade
the Talaria TWO Wi-Fi module firmware over SPI/SDIO interface. This
feature is provided through connection manager.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Device Provisioning over BLE</p></li>
</ol>
<blockquote>
<div><p>Provisioning is a method to configure parameters required for the
Wi-Fi Connection and cloud details. This can be achieved via Talaria
TWO BLE provisioning method. Mobile-based provisioning application
can be used for the same. This feature is provided through connection
manager.</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Connection Manager</p></li>
</ol>
<blockquote>
<div><p>Connection Manager is a utility which is a stripped version of Wi-Fi
utilities like iwconfig that enables the application to use Wi-Fi
connection/disconnection and static/dynamic IP settings.</p>
<p>For more details on the connection management features and commands,
refer: <a class="reference external" href="#_Connection_Manager_Commands">Connection Manager
Commands</a></p>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Low Power</p></li>
</ol>
<blockquote>
<div><p>This solution allows the host and/or Talaria TWO to be put to sleep.
There are two GPIOs available, one of which is used as a wakeup
source of host and other is used for the host to interrupt Talaria
TWO.</p>
<p>In idle mode, the host can go to sleep and can be woken up by Talaria
TWO using the GPIO. The advantage of this solution is, even if the
host is in sleep mode, Talaria TWO running on low power keeps the
device (keepalive) in an always connected state. Talaria TWO can wake
the host up by using the GPIO when it receives the wake-up command
from the cloud or from predefined events.</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Keepalive/Shadow service</p></li>
</ol>
<blockquote>
<div><p>This is a feature supported by the Dual-Stack solution to achieve
maximum power saving without losing cloud connectivity.</p>
<p>It enables the device to stay connected to the cloud even when the
host is in sleep mode. When the host processor is in the sleep mode,
Talaria TWO acts as the shadow of the host. With the
keepalive/heartbeat mechanism, it keeps the device in an always
connected state. This ensures device availability even when the host
processor is in sleep.</p>
<p>The main advantage of this ultra-power saving option is in
high-performance devices like video/audio processing solutions.</p>
<p>Dual-Stack solution supports both MQTT and TCP based keep alive
connections. The entire operation can be described as two states:</p>
</div></blockquote>
<ol class="loweralpha simple">
<li><p>Normal State:</p>
<ol class="lowerroman simple">
<li><p>Host processes the data (video/audio/sensor) and streams the
data to the cloud using Talaria TWO.</p></li>
<li><p>Host triggers Talaria TWO for the keepalive (heartbeat) process.</p></li>
<li><p>Host closes the cloud data stream connection.</p></li>
</ol>
</li>
<li><p>Power save/keepalive state:</p>
<ol class="lowerroman simple">
<li><p>Host goes to sleep.</p></li>
<li><p>Talaria TWO sends/receives the keepalive (heartbeat) packets to
the cloud.</p></li>
<li><p>Talaria TWO wakes the up host when it receives a wake-up request
from the cloud using GPIO.</p></li>
<li><p>Talaria TWO goes back to normal state.</p></li>
</ol>
</li>
</ol>
<ol class="arabic simple" start="6">
<li><p>Heartbeat</p></li>
</ol>
<blockquote>
<div><p>Under normal working, if Talaria TWO crashes or hangs, host
application will not be able to detect this. The heartbeat feature
helps avoid this situation. Every 10 seconds, the host sends a
heartbeat signal to Talaria TWO and Talaria TWO acknowledges by
sending an indication of its normal working. If Talaria TWO stops
responding, the host detects the issue and notifies this in the
custom application: heartbeat_monitor.</p>
<p>By default, the heartbeat feature is disabled. To run this feature
along with tunadapter, provide heartbeat=1 as one of the parameters.
Heartbeat message frequency is set to 10 seconds.</p>
<p>Run the custom application (heartbeat_monitor), to monitor heartbeat
feature. When Talaria TWO crashes or is out-of-sync with the host,
the host notifies the custom application and displays the same. The
custom application is available at: <em>hapi/dual_stack/bins</em>. The
custom application waits for the indication message from the host and
once received, prints the message.</p>
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Port-range Configuration</p></li>
</ol>
<blockquote>
<div><p>Since Dual-Stack provides sockets on both host and Talaria TWO, the
source port needs to be partitioned and allocated to both Talaria TWO
and host. Based on this, Talaria TWO routes the packet to host or
sends it to LwIP.</p>
<p>Following boot arguments configures the source port ranges for both
host and Talaria TWO:</p>
</div></blockquote>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Table 1: Boot arguments to configure source port ranges</span><a class="headerlink" href="#id1" title="Permalink to this table">ÔÉÅ</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Boot argument</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
<th class="head"><p><strong>Default Values</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>d
s.host_src_port_start</p></td>
<td><p>Host starting source
port number</p></td>
<td><p>70</p></td>
</tr>
<tr class="row-odd"><td><p>ds.host_src_port_end</p></td>
<td><p>Host ending source port
number</p></td>
<td><p>40000</p></td>
</tr>
<tr class="row-even"><td><p>ds.local
_udp_port_range_start</p></td>
<td><p>Talaria TWO starting
UDP source port number</p></td>
<td><p>49152</p></td>
</tr>
<tr class="row-odd"><td><p>ds.loc
al_udp_port_range_end</p></td>
<td><p>Talaria TWO ending UDP
source port number</p></td>
<td><p>65535</p></td>
</tr>
<tr class="row-even"><td><p>ds.local
_tcp_port_range_start</p></td>
<td><p>Talaria TWO starting
TCP source port number</p></td>
<td><p>49152</p></td>
</tr>
<tr class="row-odd"><td><p>ds.loc
al_tcp_port_range_end</p></td>
<td><p>Talaria TWO ending TCP
source port number</p></td>
<td><p>65535</p></td>
</tr>
<tr class="row-even"><td><p>ds.dns_port_start</p></td>
<td><p>Talaria TWO starting
DNS source port number</p></td>
<td><p>49152</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="8">
<li><p>Packet Forward Configuration</p></li>
</ol>
<blockquote>
<div><p>The packet forward configuration in the Dual-Stack solution extends
the flexibility to configure multiple rules for packet forwarding.</p>
<p>The packet forward module provides the following features:</p>
</div></blockquote>
<ol class="loweralpha simple">
<li><p>Packet forwarding based on multiple local port/port ranges</p></li>
<li><p>Packet forwarding based on multiple remote IP/ports</p></li>
<li><p>Ability to be configured dynamically, providing the control to have
product specific packet forwarding rule</p></li>
<li><p>Ability to define the packet direction</p></li>
</ol>
<blockquote>
<div><p>Following boot argument helps configure the source port ranges for
both Host and Talaria TWO:</p>
</div></blockquote>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Table 2: Boot argument for packet forwarding configuration</span><a class="headerlink" href="#id2" title="Permalink to this table">ÔÉÅ</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Boot argument</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
<th class="head"><p><strong>Default Value</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ds.pf_method</p></td>
<td><p>Packet forward
approach</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="9">
<li><p>custom_fos application</p></li>
</ol>
<blockquote>
<div><p>This application demonstrates the use of Firmware Upgrade Over
Serial. Using this application, Talaria TWO ELF can be upgraded from
the Host. Host provides the Talaria TWO ELF to be upgraded. The ELF
will be sent over serial using FOS HAPI commands.</p>
</div></blockquote>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="2.%20Dual-Stack%20Packages.html" class="btn btn-neutral float-left" title="Dual Stack Package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="4.%20Tunadapter.html" class="btn btn-neutral float-right" title="Tunadapter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>