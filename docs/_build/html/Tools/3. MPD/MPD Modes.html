<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Base Mode &mdash; InnoPhase 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=8d563738"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js "></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="../../_static/js/custom.js" defer></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            InnoPhase
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Getting%20Started/Getting%20Started%20-%20Landing%20Page.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Hardware%20Reference/Hardware-Reference.html">Hardware-Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Porting%20Guide/Porting-Guide.html">Porting-Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Disclaimers/Disclaimers.html">Disclaimer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Appendix/Appendix-Landing_Page.html">Appendix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Support/Support.html">Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Software%20Reference/Software_Reference_Landing_Page.html">Software Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Development%20Environments/Development%20Environments%20-%20Landing%20Page.html">Development Environments</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Applications/Applications%20-%20Landing%20Page.html">Applications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Regulatory%20Notices/Regulatory%20Notices.html">FCC/ISED Regulatory Notices</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Security/Security%20-%20Landing%20Page.html">Security</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">InnoPhase</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Base Mode</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Tools/3. MPD/MPD Modes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>Select the MPD tab on the Demo tool GUI to automatically load the signed
firmware image for MPD application.</p>
<p><strong>Note</strong>: For all the modes, the Keep Alive Wake time is fixed as 2 in
the application. This time is the time window in milliseconds during
which Talaria TWO will wait in receive mode before going to sleep.</p>
<p>Select the appropriate mode and enter the values specific to the mode
selected. Failure to pass any value will result in an error. Click on
either PROG RAM/Flash as per requirement.</p>
<section id="base-mode">
<h1>Base Mode<a class="headerlink" href="#base-mode" title="Link to this heading"></a></h1>
<p><strong>Expected Result</strong>: Spike should be observed as per the Beacon listen
interval configured. If beacon listen interval is configured as 10, then
radio wakes up to listen beacon for every 1 second.</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 56.7µA for 30s.</p>
<p><a class="reference internal" href="../../_images/image277.png"><img alt="image1" src="../../_images/image277.png" style="width: 6.29921in; height: 4.71059in;" /></a></p>
<p>Figure : Base mode: Otii log</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.018,216] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-44 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[2.837,656] MYIP 192.168.0.104</p>
<p>[2.837,819] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.498,504] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>Application Exited..</p>
<p>Going for indefinite sleep…</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="keep-alive-mode">
<h1>Keep Alive Mode<a class="headerlink" href="#keep-alive-mode" title="Link to this heading"></a></h1>
<p><strong>Note</strong>:</p>
<p>To reduce power consumption, the Keep Alive messages are aligned to the
next beacon reception period. The actual Keepalive Interval can
therefore be longer than specified, especially if the
wifi.listen_interval is set to a high value.</p>
<p><strong>Wireshark log</strong>:</p>
<p><strong>Expected Result</strong>:</p>
<p>Based on the configured keepalive interval (10s), QoS Null function
packet is observed.</p>
<p><a class="reference internal" href="../../_images/image339.png"><img alt="image2" src="../../_images/image339.png" style="width: 5.90551in; height: 5.87934in;" /></a></p>
<p>Figure : Keep alive: Wireshark log</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 64.4µA for 30s. In
idle cases, the average current consumption is 55.3µA.</p>
<p><a class="reference internal" href="../../_images/image436.png"><img alt="image3" src="../../_images/image436.png" style="width: 6.29921in; height: 4.65883in;" /></a></p>
<p>Figure : Keep alive - Otii logs</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Y-BOOT 208ef13 2019-07-22 12:26:54 -0500 790da1-b-7</p>
<p>ROM yoda-h0-rom-16-0-gd5a8e586</p>
<p>FLASH:PNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 mpd.proto=none wifi.max_idle_period=10
wifi.listen_interval=10 krn.gpio=–K wifi.keep_alive_wake_time=2
wifi.arp_grat_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[0.893,908] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-49 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[1.865,748] MYIP 192.168.0.104</p>
<p>[1.865,795] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[2.200,625] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>Application Exited..</p>
<p>Going for indefinite sleep…</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="tcp">
<h1>TCP<a class="headerlink" href="#tcp" title="Link to this heading"></a></h1>
<p><strong>Note</strong>: Both the Host and Talaria TWO are connected to the same
network.</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 mpd.proto=tcp mpd.tcp.msginterval=10
mpd.tcp.msglen=100 mpd.port=80 wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.070,557] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-56 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[2.805,664] MYIP 192.168.0.104</p>
<p>[2.805,711] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.563,103] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>listening socket success.. sd=0</p>
<p>Binding to port: 80</p>
<p>bind success..</p>
<p>listen success…</p>
<p>Config:</p>
<p>Proto :tcp</p>
<p>Port :80</p>
<p>Interval:10</p>
<p>msg len :100</p>
<p>Waiting for incoming connections..</p>
<p>Calling accept()</p>
<p>msg=Times=1:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=2:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=3:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=4:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=5:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=6:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
<p>msg=Times=7:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>send returned 100.</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>TCP client windows console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>C:\Program Files (x86)\Nmap&gt;ncat.exe 192.168.0.104 80</p>
<p>Times=1:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=2:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=3:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=4:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=5:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=6:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=7:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>To start ncat in the host computer, follow the following steps:</p>
<ol class="arabic simple">
<li><p>Download and Install ncat using the following link:
<a class="reference external" href="https://nmap.org/ncat/">https://nmap.org/ncat/</a>.</p></li>
<li><p>Open command prompt and pass command.</p></li>
<li><p>Ncat.exe IP-address (from console) and port_number (from console).</p></li>
</ol>
<p><strong>Expected Result</strong>: When client connects to the TCP server (server port
configured with port boot argument), the TCP server sends a message to
client after every &lt;interval&gt; seconds which is configured in
Message_Send Interval.</p>
<section id="id3">
<h2><a href="#id1"><span class="problematic" id="id2">**</span></a><a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<p><strong>Wireshark log</strong>:</p>
<ol class="arabic simple">
<li><p>The [SYN], [SYN,ACK] and [ACK] is observed for the TCP three-way
handshake during the connection establishment.</p></li>
<li><p>[PSH,ACK] is observed for the TCP data sent from Talaria TWO.</p></li>
<li><p>[FIN,ACK] is observed for the TCP disconnection done from the
application end point (TCP client).</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image527.png"><img alt="image4" src="../../_images/image527.png" style="width: 6.29921in; height: 3.85952in;" /></a></p>
<p>Figure : TCP - Wireshark log</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 109µA for 30s. In
idle cases, the average current consumption is 58.1µA.</p>
<p><a class="reference internal" href="../../_images/image619.png"><img alt="image5" src="../../_images/image619.png" style="width: 6.29921in; height: 4.66295in;" /></a></p>
<p>Figure : TCP - Otii log</p>
<ul class="simple">
<li></li>
<li></li>
</ul>
</section>
</section>
<section id="udp">
<h1>UDP<a class="headerlink" href="#udp" title="Link to this heading"></a></h1>
<p><strong>Note</strong>: Both the Host and Talaria TWO are connected to the same
network.</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 mpd.proto=udp mpd.udp.msginterval=10
mpd.udp.msglen=100 mpd.port=6009 wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.083,508] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-44 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[3.027,081] MYIP 192.168.0.104</p>
<p>[3.027,130] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.567,973] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>UDP socket success</p>
<p>Config:</p>
<p>Proto :udp</p>
<p>Port :6009</p>
<p>Interval:10</p>
<p>msg len :100</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
<p>sendto returned 100.</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>UDP client windows console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>C:\Program Files (x86)\Nmap&gt;ncat.exe -u -l 6009</p>
<p>Times=3:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=4:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=5:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=6:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=7:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=8:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=9:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Times=10:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=11:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=12:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=13:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=14:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=15:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Times=16:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>To start ncat in the host computer, follow the following steps:</p>
<ol class="arabic simple">
<li><p>Download and install ncat using the following link:
<a class="reference external" href="https://nmap.org/ncat/">https://nmap.org/ncat/</a>..</p></li>
<li><p>Open command prompt and pass the following command (from console):</p></li>
</ol>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ncat.exe -u -l port_number</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Wireshark log</strong>:</p>
<p><strong>Expected Result</strong>: Talaria TWO sends broadcast UDP message to the
configured port number in MPD tool, every configured interval (10s).</p>
<p><a class="reference internal" href="../../_images/image717.png"><img alt="image6" src="../../_images/image717.png" style="width: 5.51181in; height: 2.79245in;" /></a></p>
<p>Figure : UDP - Wireshark log</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 107µA for 30s. In
idle cases, the average current consumption is 59.1µA.</p>
<p><a class="reference internal" href="../../_images/image816.png"><img alt="image7" src="../../_images/image816.png" style="width: 5.51181in; height: 4.06927in;" /></a></p>
<p>Figure : UDP - Otii log</p>
</section>
<section id="http">
<h1>HTTP<a class="headerlink" href="#http" title="Link to this heading"></a></h1>
<p><strong>Wireshark log</strong>:</p>
<p><strong>Expected Result</strong>: At configured interval (10s), application connects
to URL, performs HTTP Get and hexdumps the page.</p>
<ol class="arabic simple">
<li><p>The first three packets (SYN, SYN/ACK, ACK) are the TCP three-way
handshake.</p></li>
<li><p>HTTP GET message is observed for the GET operation.</p></li>
<li><p>HTTP/1.1 200 OK is the response from the server for the successful
HTTP connection.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image915.png"><img alt="image8" src="../../_images/image915.png" style="width: 5.90551in; height: 3.62436in;" /></a></p>
<p>Figure : HTTP - Wireshark log</p>
<p><strong>Otii log:</strong> Shows an average current consumption of 171µA for 30s. In
idle cases, the average current consumption is 58.4µA.</p>
<p><a class="reference internal" href="../../_images/image1014.png"><img alt="image9" src="../../_images/image1014.png" style="width: 5.90551in; height: 3.98002in;" /></a></p>
<p>Figure : HTTP - Otii log</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 mpd.proto=http mpd.http.httpgetinterval=10
mpd.url=http://example.com wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>url=http://example.com</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.049,462] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-49 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[2.733,731] MYIP 192.168.0.104</p>
<p>[2.733,779] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.541,272] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>after parsing. port=80</p>
<p>Config:</p>
<p>Proto :http</p>
<p>Port :0</p>
<p>Interval:10</p>
<p>msg len :0</p>
<p>http_send_keepalive: times=1</p>
<p>[APP]Calling http_client_open(). cfg.port=80</p>
<p>[APP]HTTP Get. path=/callback entry</p>
<p>[APP]Response:</p>
<p>1120 ———————-</p>
<p>200</p>
<p>Age: 471654</p>
<p>Cache-Control: max-age=604800</p>
<p>Content-Type: text/html; charset=UTF-8</p>
<p>Date: Thu, 07 Jul 2022 10:23:01 GMT</p>
<p>Etag: “3147526947+gzip+ident”</p>
<p>Expires: Thu, 14 Jul 2022 10:23:01 GMT</p>
<p>Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT</p>
<p>Server: ECS (dcb/7EA2)</p>
<p>Vary: Accept-Encoding</p>
<p>X-Cache: HIT</p>
<p>Accept-Ranges: none</p>
<p>Content-Length: 1256</p>
<p>[APP]Body:</p>
<p>Hexdump of http data, len=1120</p>
<p>3C 21 64 6F 63 74 79 70 65 20 68 74 6D 6C 3E 0A | &lt;!doctype html&gt;.</p>
<p>3C 68 74 6D 6C 3E 0A 3C 68 65 61 64 3E 0A 20 20 | &lt;html&gt;.&lt;head&gt;.</p>
<p>20 20 3C 74 69 74 6C 65 3E 45 78 61 6D 70 6C 65 | &lt;title&gt;Example</p>
<p>20 44 6F 6D 61 69 6E 3C 2F 74 69 74 6C 65 3E 0A | Domain&lt;/title&gt;.</p>
<p>0A 20 20 20 20 3C 6D 65 74 61 20 63 68 61 72 73 | . &lt;meta chars</p>
<p>65 74 3D 22 75 74 66 2D 38 22 20 2F 3E 0A 20 20 | et=”utf-8” /&gt;.</p>
<p>20 20 3C 6D 65 74 61 20 68 74 74 70 2D 65 71 75 | &lt;meta http-equ</p>
<p>69 76 3D 22 43 6F 6E 74 65 6E 74 2D 74 79 70 65 | iv=”Content-type</p>
<p>22 20 63 6F 6E 74 65 6E 74 3D 22 74 65 78 74 2F | ” content=”text/</p>
<p>68 74 6D 6C 3B 20 63 68 61 72 73 65 74 3D 75 74 | html; charset=ut</p>
<p>66 2D 38 22 20 2F 3E 0A 20 20 20 20 3C 6D 65 74 | f-8” /&gt;. &lt;met</p>
<p>61 20 6E 61 6D 65 3D 22 76 69 65 77 70 6F 72 74 | a name=”viewport</p>
<p>22 20 63 6F 6E 74 65 6E 74 3D 22 77 69 64 74 68 | ” content=”width</p>
<p>3D 64 65 76 69 63 65 2D 77 69 64 74 68 2C 20 69 | =device-width, i</p>
<p>6E 69 74 69 61 6C 2D 73 63 61 6C 65 3D 31 22 20 | nitial-scale=1”</p>
<p>2F 3E 0A 20 20 20 20 3C 73 74 79 6C 65 20 74 79 | /&gt;. &lt;style ty</p>
<p>70 65 3D 22 74 65 78 74 2F 63 73 73 22 3E 0A 20 | pe=”text/css”&gt;.</p>
<p>20 20 20 62 6F 64 79 20 7B 0A 20 20 20 20 20 20 | body {.</p>
<p>20 20 62 61 63 6B 67 72 6F 75 6E 64 2D 63 6F 6C | background-col</p>
<p>6F 72 3A 20 23 66 30 66 30 66 32 3B 0A 20 20 20 | or: #f0f0f2;.</p>
<p>20 20 20 20 20 6D 61 72 67 69 6E 3A 20 30 3B 0A | margin: 0;.</p>
<p>20 20 20 20 20 20 20 20 70 61 64 64 69 6E 67 3A | padding:</p>
<p>20 30 3B 0A 20 20 20 20 20 20 20 20 66 6F 6E 74 | 0;. font</p>
<p>2D 66 61 6D 69 6C 79 3A 20 2D 61 70 70 6C 65 2D | -family: -apple-</p>
<p>73 79 73 74 65 6D 2C 20 73 79 73 74 65 6D 2D 75 | system, system-u</p>
<p>69 2C 20 42 6C 69 6E 6B 4D 61 63 53 79 73 74 65 | i, BlinkMacSyste</p>
<p>6D 46 6F 6E 74 2C 20 22 53 65 67 6F 65 20 55 49 | mFont, “Segoe UI</p>
<p>22 2C 20 22 4F 70 65 6E 20 53 61 6E 73 22 2C 20 | “, “Open Sans”,</p>
<p>22 48 65 6C 76 65 74 69 63 61 20 4E 65 75 65 22 | “Helvetica Neue”</p>
<p>2C 20 48 65 6C 76 65 74 69 63 61 2C 20 41 72 69 | , Helvetica, Ari</p>
<p>61 6C 2C 20 73 61 6E 73 2D 73 65 72 69 66 3B 0A | al, sans-serif;.</p>
<p>20 20 20 20 20 20 20 20 0A 20 20 20 20 7D 0A 20 | . }.</p>
<p>20 20 20 64 69 76 20 7B 0A 20 20 20 20 20 20 20 | div {.</p>
<p>20 77 69 64 74 68 3A 20 36 30 30 70 78 3B 0A 20 | width: 600px;.</p>
<p>20 20 20 20 20 20 20 6D 61 72 67 69 6E 3A 20 35 | margin: 5</p>
<p>65 6D 20 61 75 74 6F 3B 0A 20 20 20 20 20 20 20 | em auto;.</p>
<p>20 70 61 64 64 69 6E 67 3A 20 32 65 6D 3B 0A 20 | padding: 2em;.</p>
<p>20 20 20 20 20 20 20 62 61 63 6B 67 72 6F 75 6E | backgroun</p>
<p>64 2D 63 6F 6C 6F 72 3A 20 23 66 64 66 64 66 66 | d-color: #fdfdff</p>
<p>3B 0A 20 20 20 20 20 20 20 20 62 6F 72 64 65 72 | ;. border</p>
<p>2D 72 61 64 69 75 73 3A 20 30 2E 35 65 6D 3B 0A | -radius: 0.5em;.</p>
<p>20 20 20 20 20 20 20 20 62 6F 78 2D 73 68 61 64 | box-shad</p>
<p>6F 77 3A 20 32 70 78 20 33 70 78 20 37 70 78 20 | ow: 2px 3px 7px</p>
<p>32 70 78 20 72 67 62 61 28 30 2C 30 2C 30 2C 30 | 2px rgba(0,0,0,0</p>
<p>2E 30 32 29 3B 0A 20 20 20 20head&gt;..&lt;b</p>
<p>6F 64 79 3E 0A 3C 64 69 76 3E 0A 20 20 20 20 3C | ody&gt;.&lt;div&gt;. &lt;</p>
<p>68 31 3E 45 78 61 6D 70 6C 65 20 44 6F 6D 61 69 | h1&gt;Example Domai</p>
<p>6E 3C 2F 68 31 3E 0A 20 20 20 20 3C 70 3E 54 68 | n&lt;/h1&gt;. &lt;p&gt;Th</p>
<p>69 73 20 64 6F 6D 61 69 6E 20 69 73 20 66 6F 72 | is domain is for</p>
<p>20 75 73 65 20 69 6E 20 69 6C 6C 75 73 74 72 61 | use in illustra</p>
<p>74 69 76 65 20 65 78 61 6D 70 6C 65 73 20 69 6E | tive examples in</p>
<p>20 64 6F 63 75 6D 65 6E 74 73 2E 20 59 6F 75 20 | documents. You</p>
<p>6D 61 79 20 75 73 65 20 74 68 69 73 0A 20 20 20 | may use this.</p>
<p>20 64 6F 6D 61 69 6E 20 69 6E 20 6C 69 74 65 72 | domain in liter</p>
<p>61 74 75 72 65 20 77 69 74 68 6F 75 74 20 70 72 | ature without pr</p>
<p>69 6F 72 20 63 6F 6F 72 64 69 6E 61 74 69 6F 6E | ior coordination</p>
<p>callback exit</p>
<p>callback entry</p>
<p>Hexdump of http data, len=136</p>
<p>20 6F 72 20 61 73 6B 69 6E 67 20 66 6F 72 20 70 | or asking for p</p>
<p>65 72 6D 69 73 73 69 6F 6E 2E 3C 2F 70 3E 0A 20 | ermission.&lt;/p&gt;.</p>
<p>20 20 20 3C 70 3E 3C 61 20 68 72 65 66 3D 22 68 | &lt;p&gt;&lt;a href=”h</p>
<p>74 74 70 73 3A 2F 2F 77 77 77 2E 69 61 6E 61 2E | ttps://www.iana.</p>
<p>6F 72 67 2F 64 6F 6D 61 69 6E 73 2F 65 78 61 6D | org/domains/exam</p>
<p>70 6C 65 22 3E 4D 6F 72 65 20 69 6E 66 6F 72 6D | ple”&gt;More inform</p>
<p>61 74 69 6F 6E 2E 2E 2E 3C 2F 61 3E 3C 2F 70 3E | ation…&lt;/a&gt;&lt;/p&gt;</p>
<p>0A 3C 2F 64 69 76 3E 0A 3C 2F 62 6F 64 79 3E 0A | .&lt;/div&gt;.&lt;/body&gt;.</p>
<p>3C 2F 68 74 6D 6C 3E 0A | &lt;/html&gt;.</p>
<p>callback exit</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="https">
<h1>HTTPS<a class="headerlink" href="#https" title="Link to this heading"></a></h1>
<p><strong>Wireshark log</strong>:</p>
<p><strong>Expected Result</strong>: At the configured interval, Message_Send Interval,
application connects to URL, performs HTTPs Get and hexdumps the page.</p>
<ol class="arabic simple">
<li><p>The first three packets (SYN, SYN/ACK, ACK) are the TCP three-way
handshake.</p></li>
<li><p>[Client hello], [Server hello], [Certificate, Server Key Exchange,
Server Hello Done], [Client Key Exchange, Change Cipher Spec,
Encrypted Handshake Message], [New Session ticket] are the SSL/TLS
handshake, which indicates successful TLS connection.</p></li>
<li><p>All the data packets over TLS connection are observed as Application
data which is encrypted.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1118.png"><img alt="image10" src="../../_images/image1118.png" style="width: 6.29921in; height: 3.66954in;" /></a></p>
<p>Figure : HTTPS - Wireshark log</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 640µA for 30s. In
idle cases, the average current consumption is 58.1µA.</p>
<p><a class="reference internal" href="../../_images/image1217.png"><img alt="image11" src="../../_images/image1217.png" style="width: 6.29921in; height: 4.25006in;" /></a></p>
<p>Figure : HTTPS - Otii log</p>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.mcast_rx=1 mpd.proto=https mpd.https.httpsgetinterval=10
mpd.url=https://example.com wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=InnoPhase
mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>url=https://example.com</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.171,820] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-57 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[2.917,496] MYIP 192.168.0.104</p>
<p>[2.917,543] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.543,978] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>after parsing. port=443</p>
<p>Config:</p>
<p>Proto :https</p>
<p>Port :0</p>
<p>Interval:10</p>
<p>msg len :0</p>
<p>http_send_keepalive: times=1</p>
<p>[APP]Calling http_client_open(). http_cmn_ctx.cfg.port=443</p>
<p>. [SSL_WRAP]Checking input configurations…</p>
<p>. [SSL_WRAP]Seeding the random number generator…</p>
<p>. [SSL_WRAP]Connecting to tcp example.com:443…</p>
<p>. [SSL_WRAP]Setting up the SSL/TLS structure…</p>
<p>. [SSL_WRAP]setting configurations..</p>
<p>&gt;auth mode = 0 (0- skip, 1- optional, 2- required</p>
<p>&gt;max fragment len = 0</p>
<p>&gt;Handshake timeout = 30 Sec</p>
<p>. [SSL_WRAP]Performing the SSL/TLS handshake…</p>
<p>. [SSL_WRAP] Handshake done. ok</p>
<p>. [SSL_WRAP]Verifying peer X.509 certificate.</p>
<p>[APP]HTTP Get. path=/</p>
<p>[APP]Response:</p>
<p>0 ———————-</p>
<p>200</p>
<p>Age: 378199</p>
<p>Cache-Control: max-age=604800</p>
<p>Content-Type: text/html; charset=UTF-8</p>
<p>Date: Thu, 07 Jul 2022 11:04:16 GMT</p>
<p>Etag: “3147526947+ident”</p>
<p>Expires: Thu, 14 Jul 2022 11:04:16 GMT</p>
<p>Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT</p>
<p>Server: ECS (dcb/7F80)</p>
<p>Vary: Accept-Encoding</p>
<p>X-Cache: HIT</p>
<p>Content-Length: 1256</p>
<p>[APP]Body:</p>
<p>Hexdump of http data, len=0</p>
<p>Hexdump of http data, len=1256</p>
<p>3C 21 64 6F 63 74 79 70 65 20 68 74 6D 6C 3E 0A | &lt;!doctype html&gt;.</p>
<p>3C 68 74 6D 6C 3E 0A 3C 68 65 61 64 3E 0A 20 20 | &lt;html&gt;.&lt;head&gt;.</p>
<p>20 20 3C 74 69 74 6C 65 3E 45 78 61 6D 70 6C 65 | &lt;title&gt;Example</p>
<p>20 44 6F 6D 61 69 6E 3C 2F 74 69 74 6C 65 3E 0A | Domain&lt;/title&gt;.</p>
<p>0A 20 20 20 20 3C 6D 65 74 61 20 63 68 61 72 73 | . &lt;meta chars</p>
<p>65 74 3D 22 75 74 66 2D 38 22 20 2F 3E 0A 20 20 | et=”utf-8” /&gt;.</p>
<p>20 20 3C 6D 65 74 61 20 68 74 74 70 2D 65 71 75 | &lt;meta http-equ</p>
<p>69 76 3D 22 43 6F 6E 74 65 6E 74 2D 74 79 70 65 | iv=”Content-type</p>
<p>22 20 63 6F 6E 74 65 6E 74 3D 22 74 65 78 74 2F | ” content=”text/</p>
<p>68 74 6D 6C 3B 20 63 68 61 72 73 65 74 3D 75 74 | html; charset=ut</p>
<p>66 2D 38 22 20 2F 3E 0A 20 20 20 20 3C 6D 65 74 | f-8” /&gt;. &lt;met</p>
<p>61 20 6E 61 6D 65 3D 22 76 69 65 77 70 6F 72 74 | a name=”viewport</p>
<p>22 20 63 6F 6E 74 65 6E 74 3D 22 77 69 64 74 68 | ” content=”width</p>
<p>3D 64 65 76 69 63 65 2D 77 69 64 74 68 2C 20 69 | =device-width, i</p>
<p>6E 69 74 69 61 6C 2D 73 63 61 6C 65 3D 31 22 20 | nitial-scale=1”</p>
<p>2F 3E 0A 20 20 20 20 3C 73 74 79 6C 65 20 74 79 | /&gt;. &lt;style ty</p>
<p>70 65 3D 22 74 65 78 74 2F 63 73 73 22 3E 0A 20 | pe=”text/css”&gt;.</p>
<p>20 20 20 62 6F 64 79 20 7B 0A 20 20 20 20 20 20 | body {.</p>
<p>20 20 62 61 63 6B 67 72 6F 75 6E 64 2D 63 6F 6C | background-col</p>
<p>6F 72 3A 20 23 66 30 66 30 66 32 3B 0A 20 20 20 | or: #f0f0f2;.</p>
<p>20 20 20 20 20 6D 61 72 67 69 6E 3A 20 30 3B 0A | margin: 0;.</p>
<p>20 20 20 20 20 20 20 20 70 61 64 64 69 6E 67 3A | padding:</p>
<p>20 30 3B 0A 20 20 20 20 20 20 20 20 66 6F 6E 74 | 0;. font</p>
<p>2D 66 61 6D 69 6C 79 3A 20 2D 61 70 70 6C 65 2D | -family: -apple-</p>
<p>73 79 73 74 65 6D 2C 20 73 79 73 74 65 6D 2D 75 | system, system-u</p>
<p>69 2C 20 42 6C 69 6E 6B 4D 61 63 53 79 73 74 65 | i, BlinkMacSyste</p>
<p>6D 46 6F 6E 74 2C 20 22 53 65 67 6F 65 20 55 49 | mFont, “Segoe UI</p>
<p>22 2C 20 22 4F 70 65 6E 20 53 61 6E 73 22 2C 20 | “, “Open Sans”,</p>
<p>22 48 65 6C 76 65 74 69 63 61 20 4E 65 75 65 22 | “Helvetica Neue”</p>
<p>2C 20 48 65 6C 76 65 74 69 63 61 2C 20 41 72 69 | , Helvetica, Ari</p>
<p>61 6C 2C 20 73 61 6E 73 2D 73 65 72 69 66 3B 0A | al, sans-serif;.</p>
<p>20 20 20 20 20 20 20 20 0A 20 20 20 20 7D 0A 20 | . }.</p>
<p>20 20 20 64 69 76 20 7B 0A 20 20 20 20 20 20 20 | div {.</p>
<p>20 77 69 64 74 68 3A 20 36 30 30 70 78 3B 0A 20 | width: 600px;.</p>
<p>20 20 20 20 20 20 20 6D 61 72 67 69 6E 3A 20 35 | margin: 5</p>
<p>65 6D 20 61 75 74 6F 3B 0A 20 20 20 20 20 20 20 | em auto;.</p>
<p>20 70 61 64 64 69 6E 67 3A 20 32 65 6D 3B 0A 20 | padding: 2em;.</p>
<p>20 20 20 20 20 20 20 62 61 63 6B 67 72 6F 75 6E | backgroun</p>
<p>64 2D 63 6F 6C 6F 72 3A 20 23 66 64 66 64 66 66 | d-color: #fdfdff</p>
<p>3B 0A 20 20 20 20 20 20 20 20 62 6F 72 64 65 72 | ;. border</p>
<p>2D 72 61 64 69 75 73 3A 20 30 2E 35 65 6D 3B 0A | -radius: 0.5em;.</p>
<p>20 20 20 20 20 20 20 20 62 6F 78 2D 73 68 61 64 | box-shad</p>
<p>6F 77 3A 20 32 70 78 20 33 70 78 }.</p>
<p>20 20 7D 0A 20 20 20 20 3C 2F 73 74 79 6C 65 3E | }. &lt;/style&gt;</p>
<p>20 20 20 20 0A 3C 2F 68 65 61 64 3E 0A 0A 3C 62 | .&lt;/head&gt;..&lt;b</p>
<p>6F 64 79 3E 0A 3C 64 69 76 3E 0A 20 20 20 20 3C | ody&gt;.&lt;div&gt;. &lt;</p>
<p>68 31 3E 45 78 61 6D 70 6C 65 20 44 6F 6D 61 69 | h1&gt;Example Domai</p>
<p>6E 3C 2F 68 31 3E 0A 20 20 20 20 3C 70 3E 54 68 | n&lt;/h1&gt;. &lt;p&gt;Th</p>
<p>69 73 20 64 6F 6D 61 69 6E 20 69 73 20 66 6F 72 | is domain is for</p>
<p>20 75 73 65 20 69 6E 20 69 6C 6C 75 73 74 72 61 | use in illustra</p>
<p>74 69 76 65 20 65 78 61 6D 70 6C 65 73 20 69 6E | tive examples in</p>
<p>20 64 6F 63 75 6D 65 6E 74 73 2E 20 59 6F 75 20 | documents. You</p>
<p>6D 61 79 20 75 73 65 20 74 68 69 73 0A 20 20 20 | may use this.</p>
<p>20 64 6F 6D 61 69 6E 20 69 6E 20 6C 69 74 65 72 | domain in liter</p>
<p>61 74 75 72 65 20 77 69 74 68 6F 75 74 20 70 72 | ature without pr</p>
<p>69 6F 72 20 63 6F 6F 72 64 69 6E 61 74 69 6F 6E | ior coordination</p>
<p>20 6F 72 20 61 73 6B 69 6E 67 20 66 6F 72 20 70 | or asking for p</p>
<p>65 72 6D 69 73 73 69 6F 6E 2E 3C 2F 70 3E 0A 20 | ermission.&lt;/p&gt;.</p>
<p>20 20 20 3C 70 3E 3C 61 20 68 72 65 66 3D 22 68 | &lt;p&gt;&lt;a href=”h</p>
<p>74 74 70 73 3A 2F 2F 77 77 77 2E 69 61 6E 61 2E | ttps://www.iana.</p>
<p>6F 72 67 2F 64 6F 6D 61 69 6E 73 2F 65 78 61 6D | org/domains/exam</p>
<p>70 6C 65 22 3E 4D 6F 72 65 20 69 6E 66 6F 72 6D | ple”&gt;More inform</p>
<p>61 74 69 6F 6E 2E 2E 2E 3C 2F 61 3E 3C 2F 70 3E | ation…&lt;/a&gt;&lt;/p&gt;</p>
<p>0A 3C 2F 64 69 76 3E 0A 3C 2F 62 6F 64 79 3E 0A | .&lt;/div&gt;.&lt;/body&gt;.</p>
<p>3C 2F 68 74 6D 6C 3E 0A | &lt;/html&gt;.</p>
<p>[APP]Success: http_client_get(), rval = 2</p>
<p>http_send_keepalive: times=2</p>
<p>[APP]Calling http_client_open(). http_cmn_ctx.cfg.port=443</p>
<p>. [SSL_WRAP]Checking input configurations…</p>
<p>. [SSL_WRAP]Seeding the random number generator…</p>
<p>. [SSL_WRAP]Connecting to tcp example.com:443…</p>
<p>. [SSL_WRAP]Setting up the SSL/TLS structure…</p>
<p>. [SSL_WRAP]setting configurations..</p>
<p>&gt;auth mode = 0 (0- skip, 1- optional, 2- required</p>
<p>&gt;max fragment len = 0</p>
<p>&gt;Handshake timeout = 30 Sec</p>
<p>. [SSL_WRAP]Performing the SSL/TLS handshake…</p>
<p>. [SSL_WRAP] Handshake done. ok</p>
<p>. [SSL_WRAP]Verifying peer X.509 certificate.</p>
<p>[APP]HTTP Get. path=/</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
</section>
<section id="mqtt">
<h1>MQTT<a class="headerlink" href="#mqtt" title="Link to this heading"></a></h1>
<p>To observe Publish messages and to Subscribe any message run the
following commands:</p>
<ol class="arabic simple">
<li><p>To Publish:</p></li>
</ol>
<p><strong>mosquitto_sub -d -v -h mqtt-dashboard.com -t PUBMSG</strong></p>
<ol class="arabic simple" start="2">
<li><p>To Subscribe:</p></li>
</ol>
<p><strong>mosquitto_pub -d -h mqtt-dashboard.com -t SUBMSG1 -m “msg1”</strong></p>
<p><strong>Note</strong>: Mosquitto.exe can be downloaded from the following link:
<a class="reference external" href="http://mosquitto.org/download/">http://mosquitto.org/download/</a>.</p>
<p>MQTT - Command Prompt Output (Subscribe message):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference external" href="mailto:synergic&#37;&#52;&#48;synergic-vostro-3470">synergic<span>&#64;</span>synergic-vostro-3470</a>:~/Downloads$ mosquitto_pub -d -h
mqtt-dashboard.com -t SUBMSG1 -m “msg1”</p>
<p>Client mosq-7XNzxTypruvc9Bkybj sending CONNECT</p>
<p>Client mosq-7XNzxTypruvc9Bkybj received CONNACK (0)</p>
<p>Client mosq-7XNzxTypruvc9Bkybj sending PUBLISH (d0, q0, r0, m1,
‘SUBMSG1’, … (4 bytes))</p>
<p>Client mosq-7XNzxTypruvc9Bkybj sending DISCONNECT</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>MQTT - Command Prompt Output (Publish message):</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference external" href="mailto:synergic&#37;&#52;&#48;synergic-vostro-3470">synergic<span>&#64;</span>synergic-vostro-3470</a>:~/Downloads$ mosquitto_sub -d -v -h
mqtt-dashboard.com -t PUBMSG</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH sending CONNECT</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received CONNACK (0)</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH sending SUBSCRIBE (Mid: 1, Topic:
PUBMSG, QoS: 0, Options: 0x00)</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received SUBACK</p>
<p>Subscribed (mid: 1): 0</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=7:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=8:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=9:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=10:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=11:ABCDEFGHIJKLMNOPQRSTU
VWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKL</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=0:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH sending PINGREQ</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PINGRESP</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=1:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
<p>PUBMSG
Times=2:ABCDEFGHIJKLMNOPQRSTUV
WXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLMNOPQRSTUVWXYZABCDEFGHIJKLM</p>
<p>Client mosq-3SHpQMGOLvcW97fbtH received PUBLISH (d0, q0, r0, m0,
‘PUBMSG’, … (99 bytes))</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Y-BOOT 208ef13 2019-07-22 12:26:54 -0500 790da1-b-7</p>
<p>ROM yoda-h0-rom-16-0-gd5a8e586</p>
<p>FLASH:PNWWWWWAEBuild $Id: git-d198c0771 $</p>
<p>mpd.mcast_rx=1 mpd.proto=mqtt mpd.port=8883
mpd.mqtt.publishinterval=10 mpd.url=mqtt-dashboard.com
mpd.mqtt.clientid=T2_TALARIA mpd.mqtt.username=t2_user
mpd.mqtt.password=t2_pass mpd.mqtt.pub_msg=PUBMSG
mpd.mqtt.sub_msg1=SUBMSG1 mpd.mqtt.sub_msg2=SUBMSG2
mpd.mqtt.ping_interval=60 wifi.listen_interval=10 krn.gpio=–K
wifi.keep_alive_wake_time=2 wifi.arp_grat_period=1800
wifi.max_idle_period=0 mpd.regdomain=FCC mpd.suspend=1
np_conf_path=/data/nprofile.json mpd.ssid=low_rssi
mpd.passphrase=12345678</p>
<p>$App:git-fdceeca3</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Enabled.</p>
<p>url=mqtt-dashboard.com</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:01:24</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[0.900,792] CONNECT:74:da:88:a6:9c:ea Channel:11 rssi:-4 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[1.612,858] MYIP 192.168.1.100</p>
<p>[1.613,022] IPv6 [fe80::e269:3aff:fe00:124]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[2.214,225] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>url=mqtt-dashboard.com hostname=mqtt-dashboard.com, port=8883, page=/</p>
<p>starting mqtt.. Ping interval=60 Secs</p>
<p>. Seeding the random number generator… ok</p>
<p>. Loading the CA root certificate … ok (0 skipped)</p>
<p>Connect success. Returning :0</p>
<p>ok</p>
<p>. Setting up the SSL/TLS structure… ok</p>
<p>. Performing the SSL/TLS handshake… ok</p>
<p>init_ssl_and_connect success… proceeding..on retry (1)</p>
<p>_mqtt_cycle : packet_type = 2</p>
<p>_mqtt_cycle : packet_type = 9Subscribed to “SUBMSG1”</p>
<p>_mqtt_cycle : packet_type = 9Subscribed to “SUBMSG2”</p>
<p>MQTT init: returning 0</p>
<p>Config:</p>
<p>Proto :mqtt</p>
<p>Port :1883</p>
<p>Interval:10</p>
<p>msg len :100</p>
<p>mqtt_loop entry</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=8, interval=10Secs</p>
<p>publish_data, value=9, interval=10Secs</p>
<p>publish_data, value=10, interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=2, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 3messageArrived: SUBMSG1 msg1</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>publish_data, value=8, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=9, interval=10Secs</p>
<p>publish_data, value=10, interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>publish_data, value=8, interval=10Secs</p>
<p>publish_data, value=9, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=10,
interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>publish_data, value=8, interval=10Secs</p>
<p>publish_data, value=9, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=10,
interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>publish_data, value=8, interval=10Secs</p>
<p>publish_data, value=9, interval=10Secs</p>
<p>publish_data, value=10, interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=6, interval=10Secs</p>
<p>publish_data, value=7, interval=10Secs</p>
<p>publish_data, value=8, interval=10Secs</p>
<p>publish_data, value=9, interval=10Secs</p>
<p>publish_data, value=10, interval=10Secs</p>
<p>publish_data, value=11, interval=10Secs</p>
<p>_mqtt_cycle : packet_type = 13publish_data, value=0, interval=10Secs</p>
<p>publish_data, value=1, interval=10Secs</p>
<p>publish_data, value=2, interval=10Secs</p>
<p>publish_data, value=3, interval=10Secs</p>
<p>publish_data, value=4, interval=10Secs</p>
<p>publish_data, value=5, interval=10Secs</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Wireshark log</strong>:</p>
<ol class="arabic simple">
<li><p>The connection sequence of the MQTT is as shown in Figure 12.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1314.png"><img alt="image12" src="../../_images/image1314.png" style="width: 6.29921in; height: 1.61745in;" /></a></p>
<p>Figure : MQTT connection flow - Wireshark log</p>
<ol class="arabic simple" start="2">
<li><p>The Connect command is sent from Talaria TWO to MQTT broker,
connection is established when the connect acknowledgement is
received by Talaria TWO from broker.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1412.png"><img alt="image13" src="../../_images/image1412.png" style="width: 6.29921in; height: 3.00021in;" /></a></p>
<p>Figure : MQTT connection packet - Wireshark log</p>
<ol class="arabic simple" start="3">
<li><p>SUBMSG1 and SUBMSG2 are the two configured topic to subscribe,
Talaria TWO gets registered to the topics from the subscription
request.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1512.png"><img alt="image14" src="../../_images/image1512.png" style="width: 6.29921in; height: 3.04374in;" /></a></p>
<p>Figure : MQTT subscribe package - Wireshark log</p>
<ol class="arabic simple" start="4">
<li><p>Publish message is observed from Talaria TWO for the configured
interval of seconds (10s) with the topic PUBMSG.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1611.png"><img alt="image15" src="../../_images/image1611.png" style="width: 6.29921in; height: 3.49427in;" /></a></p>
<p>Figure : MQTT publish packet - Wireshark log</p>
<ol class="arabic simple" start="5">
<li><p>At configured interval of seconds (60s) a ping request and response
is observed from Talaria TWO.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1711.png"><img alt="image16" src="../../_images/image1711.png" style="width: 6.29921in; height: 3.05491in;" /></a></p>
<p>Figure : MQTT ping - Wireshark log</p>
<ol class="arabic simple" start="6">
<li><p>Data is sent from MQTT broker to Talaria TWO with the subscribed
topic SUBMSG1.</p></li>
</ol>
<p><a class="reference internal" href="../../_images/image1811.png"><img alt="image17" src="../../_images/image1811.png" style="width: 6.29921in; height: 3.90964in;" /></a></p>
<p>Figure : MQTT subscribe packet - Wireshark log</p>
<blockquote>
<div></div></blockquote>
<p><strong>Otii log</strong>:</p>
<p><strong>Case 1</strong>: Shows an average current consumption of 200µA for 30s for
MQTT subscribe. In idle cases, the average current consumption is
57.6µA.</p>
<p><a class="reference internal" href="../../_images/image1911.png"><img alt="image18" src="../../_images/image1911.png" style="width: 5.11811in; height: 3.4589in;" /></a></p>
<p>Figure : MQTT subscribe - Otii log</p>
<p><strong>Case 2</strong>: Shows an average current consumption of 173µA for 30s for
MQTT publish. In idle cases, the average current consumption is 59.3µA.</p>
<blockquote>
<div><p><a class="reference internal" href="../../_images/image209.png"><img alt="image19" src="../../_images/image209.png" style="width: 5.11811in; height: 3.47083in;" /></a></p>
</div></blockquote>
<p>Figure : MQTT publish - Otii log</p>
</section>
<section id="multicast-reception-off-grat-arp-on">
<h1>Multicast Reception OFF GRAT ARP ON<a class="headerlink" href="#multicast-reception-off-grat-arp-on" title="Link to this heading"></a></h1>
<p>Console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>UART:SNWWWWWAEBuild $Id: git-ba65998b7 $</p>
<p>mpd.proto=none –flash=vm –reset=evk42 mpd.mcast_rx=0
wifi.arp_grat_period=10 wifi.max_idle_period=0
wifi.listen_interval=10 krn.gpio=–K wifi.keep_alive_wake_time=2
mpd.regdomain=FCC mpd.suspend=1 np_conf_path=/data/nprofile.json
mpd.ssid=InnoPhase mpd.passphrase=43083191</p>
<p>$App:git-73e7f910</p>
<p>SDK Ver: FREERTOS_SDK_1.0</p>
<p>T2 Multipurpose Demp App Version 0.12</p>
<p>network profile parse success.</p>
<p>Suspend Enabled.</p>
<p>Multicast reception Disabled.</p>
<p>Regdomain=FCC</p>
<p>addr e0:69:3a:00:13:90</p>
<p>Applying reg domain: <a class="reference external" href="mailto:1-11&#37;&#52;&#48;20">1-11<span>&#64;</span>20</a></p>
<p>Connecting to network</p>
<p>.[2.062,636] CONNECT:00:5f:67:cd:c5:a6 Channel:11 rssi:-53 dBm</p>
<p>WCM_NOTIFY_MSG_LINK_UP</p>
<p>.WCM_NOTIFY_MSG_ADDRESS</p>
<p>[2.770,812] MYIP 192.168.0.104</p>
<p>[2.770,975] IPv6 [fe80::e269:3aff:fe00:1390]-link</p>
<p>WCM_NOTIFY_MSG_CONNECTED</p>
<p>Listen interval=10</p>
<p>Traffic Timeout=12</p>
<p>pm_flags=0x0</p>
<p>[3.543,107] WARNING! wcm_pm_config may overwrite the supplied power
management boot arguments!</p>
<p>WiFi Connection success. proceeding to app..</p>
<p>Timeout not specified.!</p>
<p>Application Exited..</p>
<p>Going for indefinite sleep…</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Expected output</strong>:</p>
<ol class="arabic simple">
<li><p>To verify if the GRAT ARP and multicast reception is disabled,
connect the PC to the same AP to which the Talaria TWO is connected
and flash the application using tool.</p></li>
<li><p>Further, the ARP table needs be cleared from the PC. This ensures
that the ARP table does not contain entries of Talaria TWO IP
address.</p></li>
<li><p>When the PC tries to ping, ARP does not pass as the mcast rx at
Talaria TWO is turned off. However, Talaria TWO keeps sending the
GRAT ARPs at configured intervals. The PC receives the GRAT ARP and
the ARP table at the laptop gets updated, and the ping is executed.</p></li>
</ol>
<p>Windows console output:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>C:\WINDOWS\system32&gt;ping 192.168.1.173</p>
<p>PING 192.168.1.173 (192.168.1.173) 56(84) bytes of data.</p>
<p>From 192.168.1.173 icmp_seq=1 Destination Host unreachable</p>
<p>From 192.168.1.173 icmp_seq=2 Destination Host unreachable</p>
<p>From 192.168.1.173 icmp_seq=3 Destination Host unreachable</p>
<p>64 bytes from 192.168.1.173: icmp_seq=6 ttl=255 time=676 ms</p>
<p>64 bytes from 192.168.1.173: icmp_seq=7 ttl=255 time=676 ms</p>
<p>64 bytes from 192.168.1.173: icmp_seq=8 ttl=255 time=676 ms</p>
<p>64 bytes from 192.168.1.173: icmp_seq=9 ttl=255 time=676 ms</p>
<p>64 bytes from 192.168.1.173: icmp_seq=10 ttl=255 time=676 ms</p>
<p>64 bytes from 192.168.1.173: icmp_seq=11 ttl=255 time=676 ms</p>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td></td>
</tr>
</tbody>
</table>
<p><strong>Wireshark log</strong>:</p>
<p><a class="reference internal" href="../../_images/image2114.png"><img alt="image20" src="../../_images/image2114.png" style="width: 6.29921in; height: 3.40663in;" /></a></p>
<p>Figure : Multicast Reception OFF GRAT ARP ON - Wireshark log</p>
<p><strong>Multicast OFF</strong>:</p>
<p>Multicast reception disabled flag can be checked from the beacon frame
if the Multicast flag is set to false as shown in Figure 21.</p>
<p><a class="reference internal" href="../../_images/image2212.png"><img alt="image21" src="../../_images/image2212.png" style="width: 6.29921in; height: 4.59272in;" /></a></p>
<p>Figure : Multicast Reception OFF GRAT ARP ON - Multicast disabled
Wireshark log</p>
<p><strong>Otii log</strong>: Shows an average current consumption of 116µA for 30s. In
idle cases, the average current consumption is 58.5µA.</p>
<p><a class="reference internal" href="../../_images/image2311.png"><img alt="image22" src="../../_images/image2311.png" style="width: 6.29921in; height: 4.24535in;" /></a></p>
<p>Figure : Multicast Reception OFF GRAT ARP ON - Otii log</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 InnoPhase IoT, Inc. | All Rights Reserved | Proprietary &amp; Confidential.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>